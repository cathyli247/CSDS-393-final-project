{"ast":null,"code":"var _jsxFileName = \"/Users/gilgamesh/Desktop/code/393/sites/src/components/FavoriteComponent.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, FormGroup, Input, Col, Row, Breadcrumb, BreadcrumbItem, ListGroup, ListGroupItem } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar config = require('../config');\n\nclass Favorite extends Component {\n  constructor(props) {\n    //username(''), authenticated(bool)\n    //this blogs state is just for temp use only, wait for real data from backend\n    super(props);\n    this.state = {\n      blogs: [{\n        blogid: 2,\n        author: 'personA',\n        title: 'titleA',\n        content: 'contentA',\n        like: true\n      }, {\n        blogid: 5,\n        author: 'personB',\n        title: 'titleB',\n        content: 'contentB',\n        like: true\n      }, {\n        blogid: 9,\n        author: 'personC',\n        title: 'titleC',\n        content: 'contentC',\n        like: true\n      }]\n    };\n    this.handleBan = this.handleBan.bind(this);\n  }\n\n  componentDidMount() {\n    //add check authenticated if-statement\n    //fetch(config.serverUrl+this.props.path, {\n    fetch(config.serverUrl + '/favorite/:this.props.username', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      if (data[0].title != null) {\n        this.setState({\n          blogs: data\n        });\n      }\n    });\n  }\n\n  handleBan(blogid, event) {\n    event.preventDefault();\n    let databody = {\n      \"ban\": blogid,\n      \"username\": this.props.username\n    };\n    fetch(config.serverUrl + '/favorite/:this.props.username', {\n      method: 'DELETE',\n      body: JSON.stringify(databody),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      if (data.success) {\n        alert(\"The blog is successfully delected from your favorite list.\");\n      } else {\n        alert(\"Deletion failed, try again.\");\n      }\n    });\n  }\n\n  render() {\n    const blog = this.state.blogs.map(blog => {\n      return /*#__PURE__*/_jsxDEV(ListGroupItem, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-10\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"m-0\",\n              children: blog.author\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"m-0\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/blogviewer/${blog.blogid}`,\n                children: blog.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 27\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            onSubmit: event => this.handleBan(blog.blogid, event),\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              value: \"submit\",\n              style: {\n                background: \"rgba(10,48,78,0.41)\",\n                fontFamily: \"Arial Black\",\n                border: \"none\",\n                borderRadius: \"50%\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-ban\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 5\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(Breadcrumb, {\n          children: [/*#__PURE__*/_jsxDEV(BreadcrumbItem, {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/home\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(BreadcrumbItem, {\n            active: true,\n            children: \"Fav List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row list-row-content align-items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(ListGroup, {\n            children: blog\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default Favorite;","map":{"version":3,"sources":["/Users/gilgamesh/Desktop/code/393/sites/src/components/FavoriteComponent.js"],"names":["React","Component","Button","Form","FormGroup","Input","Col","Row","Breadcrumb","BreadcrumbItem","ListGroup","ListGroupItem","Link","config","require","Favorite","constructor","props","state","blogs","blogid","author","title","content","like","handleBan","bind","componentDidMount","fetch","serverUrl","method","headers","then","res","json","data","setState","event","preventDefault","databody","username","body","JSON","stringify","success","alert","render","blog","map","background","fontFamily","border","borderRadius"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Button, Form, FormGroup, Input, Col, Row, Breadcrumb, BreadcrumbItem, ListGroup, ListGroupItem} from 'reactstrap';\nimport { Link } from 'react-router-dom';\nvar config = require('../config');\n\nclass Favorite extends Component {\n\tconstructor(props) {\n\t\t//username(''), authenticated(bool)\n\t\t//this blogs state is just for temp use only, wait for real data from backend\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tblogs:[{\n\t\t\t\tblogid: 2, \n\t\t\t\tauthor: 'personA',\n\t\t\t\ttitle: 'titleA',\n\t\t\t\tcontent: 'contentA',\n\t\t\t\tlike: true\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\tblogid: 5, \n\t\t\t\tauthor: 'personB',\n\t\t\t\ttitle: 'titleB',\n\t\t\t\tcontent: 'contentB',\n\t\t\t\tlike: true\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\tblogid: 9, \n\t\t\t\tauthor: 'personC',\n\t\t\t\ttitle: 'titleC',\n\t\t\t\tcontent: 'contentC',\n\t\t\t\tlike: true\n\t\t\t\t}]\n\t\t}\n\t\tthis.handleBan = this.handleBan.bind(this);\n\t}\n\t\n\tcomponentDidMount() {\n\t\t//add check authenticated if-statement\n\t\t//fetch(config.serverUrl+this.props.path, {\n\t\tfetch(config.serverUrl+'/favorite/:this.props.username', {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        })\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\tif(data[0].title != null) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tblogs: data\n\t\t\t\t});\n\t\t\t}\n\t\t})\n\t}\n\n\thandleBan(blogid, event){\n\t\tevent.preventDefault();\n\t\tlet databody = {\n\t\t\t\"ban\": blogid,\n\t\t\t\"username\": this.props.username\n\t\t}\n\t\tfetch(config.serverUrl+'/favorite/:this.props.username', {\n\t\t\tmethod: 'DELETE',\n\t\t\tbody: JSON.stringify(databody),\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t})\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\tif(data.success){\n\t\t\t\talert(\"The blog is successfully delected from your favorite list.\");\n\t\t\t}\n\t\t\telse{\n\t\t\t\talert(\"Deletion failed, try again.\");\n\t\t\t}\n\t\t})\n\t}\n\n\trender() {\n\t\tconst blog = this.state.blogs.map((blog) => {\n\t\t\treturn(\n\t\t\t\t<ListGroupItem>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-10\">\n\t\t\t\t\t\t\t<p className=\"m-0\">{blog.author}</p>\n\t\t\t\t\t\t\t<p className=\"m-0\"><Link to={`/blogviewer/${blog.blogid}`}>{blog.title}</Link></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col\" onSubmit={(event) => this.handleBan(blog.blogid, event)}>\n\t\t\t\t\t\t\t<Button type=\"submit\" value=\"submit\" style={{background:\"rgba(10,48,78,0.41)\", fontFamily:\"Arial Black\",border:\"none\", borderRadius: \"50%\"}}>\n\t\t\t\t\t\t\t\t<i className=\"fa fa-ban\"></i>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</ListGroupItem>\n\t\t\t);\n\t\t});\n\n\t\treturn(\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<Breadcrumb>\n\t\t\t\t\t\t<BreadcrumbItem><Link to=\"/home\">Home</Link></BreadcrumbItem>\n\t\t\t\t\t\t<BreadcrumbItem active>Fav List</BreadcrumbItem>\n\t\t\t\t\t</Breadcrumb>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row list-row-content align-items-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t\t{blog}\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Favorite;"]},"metadata":{},"sourceType":"module"}