{"ast":null,"code":"import _defineProperty from\"/Users/gilgamesh/Desktop/code/393/sites/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/gilgamesh/Desktop/code/393/sites/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/gilgamesh/Desktop/code/393/sites/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/gilgamesh/Desktop/code/393/sites/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/gilgamesh/Desktop/code/393/sites/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/gilgamesh/Desktop/code/393/sites/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Collapse,Navbar,NavbarToggler,NavbarBrand,Nav,NavItem,NavLink,Button,Modal,ModalHeader,ModalBody,Col,Row,Form,FormGroup,Label,Input}from'reactstrap';import{baseUrl}from'../shared/baseUrl';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var config=require('../config');var Header=/*#__PURE__*/function(_Component){_inherits(Header,_Component);var _super=_createSuper(Header);function Header(props){var _this;_classCallCheck(this,Header);_this=_super.call(this,props);_this.state={username:'',password:'',isNavOpen:false,isModalSignUpOpen:false,isModalLoginOpen:false};_this.handleInputChange=_this.handleInputChange.bind(_assertThisInitialized(_this));_this.toggleNav=_this.toggleNav.bind(_assertThisInitialized(_this));_this.toggleModalSignUp=_this.toggleModalSignUp.bind(_assertThisInitialized(_this));_this.toggleModalLogin=_this.toggleModalLogin.bind(_assertThisInitialized(_this));_this.handleLogin=_this.handleLogin.bind(_assertThisInitialized(_this));_this.handleSignup=_this.handleSignup.bind(_assertThisInitialized(_this));_this.handeLogout=_this.handeLogout.bind(_assertThisInitialized(_this));return _this;}_createClass(Header,[{key:\"toggleNav\",value:function toggleNav(){this.setState({isNavOpen:!this.state.isNavOpen});}},{key:\"toggleModalSignUp\",value:function toggleModalSignUp(){this.setState({isModalSignUpOpen:!this.state.isModalSignUpOpen});}},{key:\"toggleModalLogin\",value:function toggleModalLogin(){this.setState({isModalLoginOpen:!this.state.isModalLoginOpen});}},{key:\"handleInputChange\",value:function handleInputChange(event){var target=event.target;var value=target.value;var name=target.name;this.setState(_defineProperty({},name,value));}},{key:\"handleSignup\",value:function handleSignup(event){var _this2=this;event.preventDefault();//alert(\"Sign up\");\nvar databody={\"username\":this.state.username,\"password\":this.state.password};fetch(config.serverUrl+'/users/login',{method:'POST',body:JSON.stringify(databody),headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(data){_this2.props.onUsernameChange(_this2.state.username,data.status);if(data.success===false)alert(data.msg);else _this2.props.history.push('/home');});}},{key:\"handleLogin\",value:function handleLogin(event){var _this3=this;event.preventDefault();//alert(\"Login\");\nvar databody={\"username\":this.state.username,\"password\":this.state.password};fetch(config.serverUrl+'/users/login',{method:'POST',body:JSON.stringify(databody),headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(data){_this3.props.onUsernameChange(_this3.state.username,data.status);if(data.success===false)alert(data.msg);else _this3.props.history.push('/home');});}},{key:\"handeLogout\",value:function handeLogout(event){var _this4=this;event.preventDefault();if(this.props.authenticated){var databody={\"username\":this.props.username};fetch(config.serverUrl+'/users/logout',{method:'PUT',body:JSON.stringify(databody),headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(data){if(data.success===false)alert(data.msg);else{_this4.props.onUsernameChange(_this4.state.username,false);_this4.props.history.push('/home');}});}else alert(\"Please Signup or Login first!\");}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Navbar,{dark:true,className:\"custom-header\",expand:\"lg\",children:[/*#__PURE__*/_jsx(NavbarBrand,{href:\"/home\",children:\"Logo\"}),/*#__PURE__*/_jsx(NavbarToggler,{id:\"nav\",onClick:this.toggleNav}),/*#__PURE__*/_jsxs(Collapse,{isOpen:this.state.isNavOpen,navbar:true,children:[/*#__PURE__*/_jsxs(Nav,{className:\"mr-auto\",navbar:true,children:[/*#__PURE__*/_jsx(NavItem,{children:/*#__PURE__*/_jsxs(NavLink,{href:\"/home\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-home fa-lg\"}),\" Home\"]})}),/*#__PURE__*/_jsx(NavItem,{children:/*#__PURE__*/_jsxs(NavLink,{href:\"/myBlogs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-user-circle-o fa-lg\"}),\" MyBlogs\"]})}),/*#__PURE__*/_jsx(NavItem,{children:/*#__PURE__*/_jsxs(NavLink,{href:\"/favList\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-heart fa-lg\"}),\" Fav List\"]})})]}),/*#__PURE__*/_jsxs(Nav,{className:\"ml-auto\",navbar:true,children:[/*#__PURE__*/_jsx(NavItem,{children:/*#__PURE__*/_jsxs(Button,{id:\"signup\",className:\"button-mr\",outline:true,onClick:this.toggleModalSignUp,children:[/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-user-plus fa-lg\"}),\" Sign up\"]})}),/*#__PURE__*/_jsx(NavItem,{children:/*#__PURE__*/_jsxs(Button,{id:\"login\",className:\"button-mr\",outline:true,onClick:this.toggleModalLogin,children:[/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-sign-in fa-lg\"}),\" Login\"]})}),/*#__PURE__*/_jsx(NavItem,{children:/*#__PURE__*/_jsxs(Button,{className:\"button-mr\",outline:true,onClick:this.handeLogout,children:[/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-sign-out fa-lg\"}),\" Logout\"]})})]})]})]}),/*#__PURE__*/_jsxs(Modal,{isOpen:this.state.isModalSignUpOpen,toggle:this.toggleModalSignUp,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:this.toggleModalSignUp,children:\"Sign Up\"}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(Form,{id:\"signupForm\",onSubmit:this.handleSignup,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:12,sm:{size:8,offset:2},children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"username1\",name:\"username\",value:this.state.username,onChange:this.handleInputChange})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:12,sm:{size:8,offset:2},children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",id:\"password1\",name:\"password\",value:this.state.password,onChange:this.handleInputChange})]})})}),/*#__PURE__*/_jsx(Row,{style:{marginTop:\"10px\"},children:/*#__PURE__*/_jsx(Col,{xs:12,md:{size:4,offset:2},children:/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(Button,{type:\"submit\",value:\"submit\",color:\"primary\",style:{width:\"100%\"},children:\"Sign up\"})})})})]})})]}),/*#__PURE__*/_jsxs(Modal,{isOpen:this.state.isModalLoginOpen,toggle:this.toggleModalLogin,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:this.toggleModalLogin,children:\"Login\"}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:this.handleLogin,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:12,sm:{size:8,offset:2},children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"username\",name:\"username\",value:this.state.username,onChange:this.handleInputChange})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:12,sm:{size:8,offset:2},children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",id:\"password\",name:\"password\",value:this.state.password,onChange:this.handleInputChange})]})})}),/*#__PURE__*/_jsx(Row,{style:{marginTop:\"10px\"},children:/*#__PURE__*/_jsx(Col,{xs:12,md:{size:4,offset:2},children:/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(Button,{type:\"submit\",value:\"submit\",color:\"primary\",style:{width:\"100%\"},children:\"Login\"})})})})]})})]})]});}}]);return Header;}(Component);export default Header;","map":{"version":3,"sources":["/Users/gilgamesh/Desktop/code/393/sites/src/components/HeaderComponent.js"],"names":["React","Component","Collapse","Navbar","NavbarToggler","NavbarBrand","Nav","NavItem","NavLink","Button","Modal","ModalHeader","ModalBody","Col","Row","Form","FormGroup","Label","Input","baseUrl","config","require","Header","props","state","username","password","isNavOpen","isModalSignUpOpen","isModalLoginOpen","handleInputChange","bind","toggleNav","toggleModalSignUp","toggleModalLogin","handleLogin","handleSignup","handeLogout","setState","event","target","value","name","preventDefault","databody","fetch","serverUrl","method","body","JSON","stringify","headers","then","res","json","data","onUsernameChange","status","success","alert","msg","history","push","authenticated","size","offset","marginTop","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem, NavLink, Button, Modal, ModalHeader, ModalBody, Col, Row, Form, FormGroup, Label, Input } from 'reactstrap';\nimport {baseUrl} from '../shared/baseUrl';\nvar config = require('../config');\n\nclass Header extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            username:'',\n            password: '',\n            isNavOpen: false,\n            isModalSignUpOpen: false,\n            isModalLoginOpen: false,\n        };\n        \n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.toggleNav = this.toggleNav.bind(this);\n        this.toggleModalSignUp = this.toggleModalSignUp.bind(this);\n        this.toggleModalLogin = this.toggleModalLogin.bind(this);\n        this.handleLogin = this.handleLogin.bind(this);\n        this.handleSignup = this.handleSignup.bind(this);\n        this.handeLogout = this.handeLogout.bind(this);\n    }\n\n    toggleNav(){\n        this.setState({\n            isNavOpen: !this.state.isNavOpen\n        });\n    }\n\n    toggleModalSignUp(){\n        this.setState({\n            isModalSignUpOpen: !this.state.isModalSignUpOpen,\n        });\n    }\n\n    toggleModalLogin(){\n        this.setState({\n            isModalLoginOpen: !this.state.isModalLoginOpen,\n        });\n    }\n\n    handleInputChange(event){\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    handleSignup(event){\n        event.preventDefault();\n        //alert(\"Sign up\");\n        let databody = {\n            \"username\": this.state.username,\n            \"password\": this.state.password\n        }\n        fetch(config.serverUrl+'/users/login', {\n            method: 'POST',\n            body: JSON.stringify(databody),\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        })\n        .then(res => res.json())\n        .then(data => {\n            this.props.onUsernameChange(this.state.username, data.status);\n            if(data.success === false) alert(data.msg);\n            else\n                this.props.history.push('/home');\n        })\n    }\n\n    handleLogin(event){\n        event.preventDefault();\n        //alert(\"Login\");\n        let databody = {\n            \"username\": this.state.username,\n            \"password\": this.state.password\n        }\n        fetch(config.serverUrl+'/users/login', {\n            method: 'POST',\n            body: JSON.stringify(databody),\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        })\n        .then(res => res.json())\n        .then(data => {\n            this.props.onUsernameChange(this.state.username, data.status);\n            if(data.success === false) alert(data.msg);\n            else\n                this.props.history.push('/home');\n        })\n    }\n\n    handeLogout(event){\n        event.preventDefault();\n        if(this.props.authenticated){\n            let databody = {\n                \"username\": this.props.username\n            }\n            fetch(config.serverUrl+'/users/logout', {\n                method: 'PUT',\n                body: JSON.stringify(databody),\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            })\n            .then(res => res.json())\n            .then(data => {\n                if(data.success === false) alert(data.msg);\n                else{\n                    this.props.onUsernameChange(this.state.username, false);\n                    this.props.history.push('/home');\n                }\n            })\n        }\n        else\n            alert(\"Please Signup or Login first!\");\n    }\n\n    render(){\n        return(\n            <>\n                <Navbar dark className=\"custom-header\" expand=\"lg\">\n                    <NavbarBrand href=\"/home\">Logo</NavbarBrand>\n                    <NavbarToggler id=\"nav\" onClick={this.toggleNav} />\n                    <Collapse isOpen={this.state.isNavOpen} navbar>\n                    <Nav className=\"mr-auto\" navbar>\n                        <NavItem>\n                            <NavLink href=\"/home\"><span className=\"fa fa-home fa-lg\"></span> Home</NavLink>\n                        </NavItem>\n                        <NavItem>\n                            <NavLink href=\"/myBlogs\"><span className=\"fa fa-user-circle-o fa-lg\"></span> MyBlogs</NavLink>\n                        </NavItem>\n                        <NavItem>\n                            <NavLink href=\"/favList\"><span className=\"fa fa-heart fa-lg\"></span> Fav List</NavLink>\n                        </NavItem>\n                    </Nav>\n                    <Nav className=\"ml-auto\" navbar>\n                        <NavItem>\n                            <Button id=\"signup\" className=\"button-mr\" outline onClick={this.toggleModalSignUp}>\n                                <span className=\"fa fa-user-plus fa-lg\"></span> Sign up\n                            </Button>\n                        </NavItem>\n                        <NavItem>\n                            <Button id=\"login\" className=\"button-mr\" outline onClick={this.toggleModalLogin}>\n                                <span className=\"fa fa-sign-in fa-lg\"></span> Login\n                            </Button>\n                        </NavItem>\n                        <NavItem>\n                            <Button className=\"button-mr\" outline onClick={this.handeLogout}>\n                                <span className=\"fa fa-sign-out fa-lg\"></span> Logout\n                            </Button>\n                        </NavItem>\n                    </Nav>\n                    </Collapse>\n                </Navbar>\n\n                <Modal isOpen={this.state.isModalSignUpOpen} toggle={this.toggleModalSignUp}>\n                    <ModalHeader toggle={this.toggleModalSignUp}>Sign Up</ModalHeader>\n                    <ModalBody>\n                        <Form id=\"signupForm\" onSubmit={this.handleSignup}>\n                            <Row>\n                                <Col xs={12} sm={{size: 8, offset:2}}>\n                                    <FormGroup>\n                                        <Label htmlFor=\"username\">Username</Label>\n                                        <Input type=\"text\" id=\"username1\" name=\"username\" value={this.state.username} onChange={this.handleInputChange}/>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col xs={12} sm={{size: 8, offset:2}}>\n                                    <FormGroup>\n                                        <Label htmlFor=\"password\">Password</Label>\n                                        <Input type=\"password\" id=\"password1\" name=\"password\" value={this.state.password} onChange={this.handleInputChange}/>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                            <Row style={{marginTop: \"10px\"}}>\n                                <Col xs={12} md={{size: 4, offset:2}}>\n                                    <FormGroup>\n                                        <Button type=\"submit\" value=\"submit\" color=\"primary\" style={{width: \"100%\"}}>Sign up</Button>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                        </Form>\n                    </ModalBody>\n                </Modal>\n                <Modal isOpen={this.state.isModalLoginOpen} toggle={this.toggleModalLogin}>\n                    <ModalHeader toggle={this.toggleModalLogin}>Login</ModalHeader>\n                    <ModalBody>\n                        <Form onSubmit={this.handleLogin}>\n                            <Row>\n                                <Col xs={12} sm={{size: 8, offset:2}}>\n                                    <FormGroup>\n                                        <Label htmlFor=\"username\">Username</Label>\n                                        <Input type=\"text\" id=\"username\" name=\"username\" value={this.state.username} onChange={this.handleInputChange}/>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col xs={12} sm={{size: 8, offset:2}}>\n                                    <FormGroup>\n                                        <Label htmlFor=\"password\">Password</Label>\n                                        <Input type=\"password\" id=\"password\" name=\"password\" value={this.state.password} onChange={this.handleInputChange}/>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                            <Row style={{marginTop: \"10px\"}}>\n                                <Col xs={12} md={{size: 4, offset:2}}>\n                                    <FormGroup>\n                                        <Button type=\"submit\" value=\"submit\" color=\"primary\" style={{width: \"100%\"}}>Login</Button>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                        </Form>\n                    </ModalBody>\n                </Modal>\n            </>\n        );\n    }\n}\n\nexport default Header;"]},"metadata":{},"sourceType":"module"}