[{"/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/index.js":"1","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/App.js":"2","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/reportWebVitals.js":"3","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/components/MainComponent.js":"4","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/components/FooterComponent.js":"5","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/components/MyBlogsComponent.js":"6","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/components/FavoriteComponent.js":"7","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/components/BlogEditorComponent.js":"8","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/components/HeaderComponent.js":"9","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/components/HomeComponent.js":"10","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/components/BlogViewerComponent.js":"11","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/config.js":"12","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/shared/baseUrl.js":"13"},{"size":639,"mtime":1619750396059,"results":"14","hashOfConfig":"15"},{"size":298,"mtime":1619750396058,"results":"16","hashOfConfig":"15"},{"size":362,"mtime":1619750396060,"results":"17","hashOfConfig":"15"},{"size":2613,"mtime":1620027678091,"results":"18","hashOfConfig":"15"},{"size":1172,"mtime":1619750396058,"results":"19","hashOfConfig":"15"},{"size":2867,"mtime":1620027963843,"results":"20","hashOfConfig":"15"},{"size":3424,"mtime":1620074447189,"results":"21","hashOfConfig":"15"},{"size":9006,"mtime":1620027963842,"results":"22","hashOfConfig":"15"},{"size":9994,"mtime":1620028312306,"results":"23","hashOfConfig":"15"},{"size":5293,"mtime":1620075870453,"results":"24","hashOfConfig":"15"},{"size":12197,"mtime":1620076086244,"results":"25","hashOfConfig":"15"},{"size":61,"mtime":1620014289492,"results":"26","hashOfConfig":"15"},{"size":47,"mtime":1619750396060,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"ht3zg2",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"39","usedDeprecatedRules":"30"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"30"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"30"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/index.js",[],["62","63"],"/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/App.js",[],"/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/reportWebVitals.js",[],"/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/components/MainComponent.js",[],"/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/components/FooterComponent.js",["64","65"],"﻿import React, { Component } from 'react';\n\nclass Footer extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\treturn(\n\t\t\t<div className=\"footer\">\n                <div className=\"container\">\n                    <div className=\"row justify-content-center\">             \n                        <div className=\"col-4 col-sm-2\">\n                            <h5 className=\"offset-4\">Contact</h5>\n                            <p className=\"m-0\">pxh257@case.edu</p>\n                            <p className=\"m-0\">txd172@case.edu</p>\n                            <p className=\"m-0\">qxl216@case.edu</p>\n                            <p className=\"m-0\">sxl1350@case.edu</p>\n                        </div>\n                        <div className=\"col col-sm\">\n                        </div>\n                    </div>\n                    <div className=\"row justify-content-center\">             \n                        <div className=\"col-auto\">\n                            <p className=\"m-0\">© Copyright 2021 CSDS393 Group 3</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\t\t);\n\t}\n}\n\nexport default Footer;","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/components/MyBlogsComponent.js",["66","67","68","69","70","71","72","73","74","75","76","77"],"import Home from './HomeComponent';\nimport React, {Component} from 'react';\nimport {Button, Form, FormGroup, Input, Col, Row, Breadcrumb, BreadcrumbItem, ListGroup, ListGroupItem} from 'reactstrap';\nimport { Link} from 'react-router-dom';\nimport {Switch, Route, Redirect, withRouter} from 'react-router-dom';\nvar config = require('../config');\n\nclass MyBlogs extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state ={\n\t\t\tblogs:[{\n\t\t\t\tpk: 0, \n\t\t\t\ttitle: 'titleA',\n\t\t\t\tcategory: 'Travel'\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\tpk: 1, \n\t\t\t\ttitle: 'titleB',\n\t\t\t\tcategory: 'Fashion'\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\tpk: 2, \n\t\t\t\ttitle: 'titleC',\n\t\t\t\tcategory: 'Fashion'\n\t\t\t\t}]\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\t//add check authenticated if-statement\n\t\t//if no post, data is an empty list\n\t\t//fetch(config.serverUrl+this.props.path, {\n\t\tfetch(config.serverUrl+'/post/list', {\n\t\t\tmethod: 'GET',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': \"token \"+this.props.authenticated\n\t\t\t},\n\t\t\tparams: {\n\t\t\t\t'search': this.props.username\n\t\t\t}\n\t\t})\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\tif(data[0] != null) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tblogs: data\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tconsole.log(data);\n\t\t\t}\n\t\t})\n\n\t}\n\n\trender() {\n\t\tif(this.state.blogs == ''){\n\t\t\tthis.setState({\n\t\t\t\tblogs:[{\n\t\t\t\t\tpk:-1\n\t\t\t\t}]\n\t\t\t});\n\t\t}\n\t\tconst blog = this.state.blogs.map((blog) => {\n\t\t\tif(blog.pk == -1){\n\t\t\t\treturn(\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-10\">\n\t\t\t\t\t\t\t\t<p className=\"m-0\">You haven't posted any blogs yet.</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t);\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn(\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-10\">\n\t\t\t\t\t\t\t\t<p className=\"m-0\">{blog.category}</p>\n\t\t\t\t\t\t\t\t<p className=\"m-0\"><Link to={`/blogviewer/${blog.blogid}`}>{blog.title}</Link></p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t\t\t<Link to={`/blogEditor/${blog.blogid}`} className=\"btn\" \n\t\t\t\t\t\t\t\t\tstyle={{background:\"rgba(10,48,78,0.42)\", fontFamily:\"Arial Black\",border:\"none\", borderRadius: \"50%\"}}>\n\t\t\t\t\t\t\t\t\t<i className=\"fa fa-pencil\"></i>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t);\n\t\t\t}\n\t\t\t\n\t\t});\n\t\t\n\t\treturn(\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<Breadcrumb>\n\t\t\t\t\t\t<BreadcrumbItem><Link to=\"/home\">Home</Link></BreadcrumbItem>\n\t\t\t\t\t\t<BreadcrumbItem active>My Blogs</BreadcrumbItem>\n\t\t\t\t\t</Breadcrumb>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row bloglist-row-content align-items-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t\t{blog}\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row row-content\">\n\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t<Button><Link to='/blogEditor' style={{color: '#fff'}}>Create a new blog</Link></Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\nexport default MyBlogs;","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/components/FavoriteComponent.js",["78","79","80","81","82","83","84","85","86","87","88"],"import React, {Component} from 'react';\nimport {Button, Form, FormGroup, Input, Col, Row, Breadcrumb, BreadcrumbItem, ListGroup, ListGroupItem} from 'reactstrap';\nimport { Link } from 'react-router-dom';\nvar config = require('../config');\n\nclass Favorite extends Component {\n\tconstructor(props) {\n\t\t//username(''), authenticated(bool)\n\t\t//this blogs state is just for temp use only, wait for real data from backend\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tblogs:[{\n\t\t\t\tpk: 2, \n\t\t\t\tauthor: 'personA',\n\t\t\t\ttitle: 'titleA',\n\t\t\t\tcontent: 'contentA',\n\t\t\t\tlike: true\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\tpk: 5, \n\t\t\t\tauthor: 'personB',\n\t\t\t\ttitle: 'titleB',\n\t\t\t\tcontent: 'contentB',\n\t\t\t\tlike: true\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\tpk: 9, \n\t\t\t\tauthor: 'personC',\n\t\t\t\ttitle: 'titleC',\n\t\t\t\tcontent: 'contentC',\n\t\t\t\tlike: true\n\t\t\t\t}],\n\t\t\tfinallist:[]\n\t\t}\n\t\tthis.handleBan = this.handleBan.bind(this);\n\t}\n\t\n\tcomponentDidMount() {\n\t\t//add check authenticated if-statement\n\t\t//fetch(config.serverUrl+this.props.path, {\n\t\tfetch(config.serverUrl+'/account/properties', {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n\t\t\t\t'Authorization': \"token \"+this.props.authenticated\n            }\n        })\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\tif(data.fav_list != []) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tblogs:[{\n\t\t\t\t\t\tpk:-1\n\t\t\t\t\t}]\n\t\t\t\t});\n\t\t\t}\n\t\t})\n\t}\n\n\t//use PUT\n\thandleBan(deletepk, event){\n\t\tevent.preventDefault();\n\t\tconst some = [];\n\t\tconst newlist = this.state.blogs.map((blog) => {\n\t\t\tif(blog.pk == deletepk){\n\t\t\t\t//do not push, leave it out\n\t\t\t}\n\t\t\telse{\n\t\t\t\tsome.push(blog);\n\t\t\t}\n\t\t});\n\t\tthis.setState({\n\t\t\tblogs: some\n\t\t});\n\t\tlet databody = {\n\t\t\t\"fav_list\": this.state.blogs\n\t\t}\n\t\tfetch(config.serverUrl+'/account/properties/update', {\n\t\t\tmethod: 'PUT',\n\t\t\tbody: JSON.stringify(databody),\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t})\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\tconsole.log(data);\n\t\t\tthis.props.history.push('/favorite');\n\t\t})\n\t}\n\n\trender() {\n\t\tif(this.state.blogs.length == 0){\n\t\t\tthis.setState({\n\t\t\t\tblogs:[{\n\t\t\t\t\tpk:-1\n\t\t\t\t}]\n\t\t\t});\n\t\t}\n\t\tconst blog = this.state.blogs.map((blog) => {\n\t\t\tif(blog.pk == -1){\n\t\t\t\treturn(\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-10\">\n\t\t\t\t\t\t\t\t<p className=\"m-0\">You haven't liked any blogs yet.</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t);\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn(\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-10\">\n\t\t\t\t\t\t\t\t<p className=\"m-0\">{blog.author}</p>\n\t\t\t\t\t\t\t\t<p className=\"m-0\"><Link to={`/blogviewer/${blog.pk}`}>{blog.title}</Link></p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col\" onSubmit={(event) => this.handleBan(blog.pk, event)}>\n\t\t\t\t\t\t\t\t<Button type=\"submit\" value=\"submit\" style={{background:\"rgba(10,48,78,0.41)\", fontFamily:\"Arial Black\",border:\"none\", borderRadius: \"50%\"}}>\n\t\t\t\t\t\t\t\t\t<i className=\"fa fa-ban\"></i>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\treturn(\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<Breadcrumb>\n\t\t\t\t\t\t<BreadcrumbItem><Link to=\"/home\">Home</Link></BreadcrumbItem>\n\t\t\t\t\t\t<BreadcrumbItem active>Fav List</BreadcrumbItem>\n\t\t\t\t\t</Breadcrumb>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row list-row-content align-items-center\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t\t{blog}\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Favorite;","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/components/BlogEditorComponent.js",["89","90","91","92","93","94","95","96","97","98","99"],"import React, {Component} from 'react';\nimport {Button, Form, FormGroup, FormFeedback, Input, Col, Row, ListGroup, ListGroupItem} from 'reactstrap';\nimport { Link} from 'react-router-dom';\nimport {Switch, Route, Redirect, withRouter} from 'react-router-dom';\nvar config = require('../config');\n\nclass BlogEditor extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tblogid: '',\n\t\t\tblogtitle:'',\n\t\t\tblogcategory:'NA',\n\t\t\tblogcontent:'',\n\t\t\tcommentdeletePK:'',\n\t\t\tblogcomments:[{\n\t\t\t\tpk: 0, \n\t\t\t\tcommentname: 'userA',\n\t\t\t\tdescription: 'commentA'\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\tpk: 1, \n\t\t\t\tcommentname: 'userB',\n\t\t\t\tdescription: 'commentB'\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\tpk: 2, \n\t\t\t\tcommentname: 'userB',\n\t\t\t\tdescription: 'commentC'\n\t\t\t\t}],\n\t\t\tfailedBlogDelete:false,\n\t\t\tfailedCommentDelete:false,\n\t\t\ttouched: {\n\t\t\t\tblogtitle: false,\n\t\t\t\tblogcontent: false\n\t\t\t}\n\t\t}\n\t\tthis.handleDelete = this.handleDelete.bind(this);\n\t\tthis.handleComment = this.handleComment.bind(this);\n\t\tthis.handleSave = this.handleSave.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleBlur = this.handleBlur.bind(this);\n\t\tthis.deletecertaincomment = this.deletecertaincomment.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tif(this.props.location.pathname == \"/blogEditor\"){\n\t\t\t//alert(\"this is an empty Editor for creating new blog\");\n\t\t\tthis.setState({\n\t\t\t\tblogcomments: []\n\t\t\t});\n\t\t}\n\t\telse{\n\t\t\tvar sentence = this.props.location.pathname;\n\t\t\tsentence.split(\"/\");\n\t\t\tfetch(config.serverUrl+\"/post/\"+sentence[sentence.length-1], {\n\t\t\t\tmethod: 'GET',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': \"token \"+this.props.authenticated\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tblogid: data.pk,\n\t\t\t\t\tblogtitle: data.title,\n\t\t\t\t\tblogcategory: data.category,\n\t\t\t\t\tblogcontent: data.content\n\t\t\t\t});\n\t\t\t\tif(this.props.authenticated){\n\t\t\t\t\tfetch(config.serverUrl+\"/comment/list\", {\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t\t'Authorization': \"token \"+this.props.authenticated\n\t\t\t\t\t\t},\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t'search': sentence[sentence.length-1]\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.then(res1 => res1.json())\n\t\t\t\t\t.then(data1 => {\n\t\t\t\t\t\tif(data1 != null) {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tblogcomments: data1\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tblogcomments: []\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\thandleInputChange(event) {\n\t\tconst target = event.target;\n\t\tconst value = target.value;\n\t\tconst name = target.name;\n\n\t\tthis.setState({\n\t\t\t[name]: value\n\t\t});\n\t}\n\n\thandleDelete(e) {\n\t\t//delete the post\n\t\te.preventDefault();\n\t\t//new=>MyBlogs; posted=>fetch delete\n\t\tif(this.props.location.pathname == '/BlogEditor') {\n\t\t\t//redirect to /myBlogs\n\t\t}\n\t\telse {\n\t\t\tvar sen = this.props.location.pathname;\n\t\t\tsen.split(\"/\");\n\t\t\tfetch(config.serverUrl+\"/post/\"+sen[sen.length-1]+\"/delete\", {\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => {\n\t\t\t\tif(data.response != null){\n\t\t\t\t\tconsole.log(data.response)\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\talert(\"Delete unsuccessful\");\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\thandleSave(event) {\n\t\t//save the post\n\t\tevent.preventDefault();\n\t\t//then fetch either post or put\n\t\tif(this.props.location.pathname == '/blogEditor'){//fetch post\n\t\t\tlet databody = {\n\t\t\t\t\"title\": this.state.blogtitle,\n\t\t\t\t\"category\": this.state.blogcategory,\n\t\t\t\t\"content\": this.state.blogcontent\n\t\t\t}\n\t\t\tfetch(config.serverUrl+\"/post/create\", {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: JSON.stringify(databody),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': \"token \"+this.props.authenticated\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => console.log(data))\n\t\t}\n\t\telse{//fetch put\n\t\t\tvar sent2 = this.props.location.pathname;\n\t\t\tsent2.split(\"/\");\n\t\t\tlet databody = {\n\t\t\t\t\"title\": this.state.blogtitle,\n\t\t\t\t\"category\": this.state.blogcategory,\n\t\t\t\t\"content\": this.state.blogcontent\n\t\t\t}\n\t\t\tfetch(config.serverUrl+\"/post/\"+sent2[sent2.length-1]+\"/update\", {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tbody: JSON.stringify(databody),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': \"token \"+this.props.authenticated\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => console.log(data))\n\t\t}\n\t}\n\n\thandleComment(comment, event) {\n\t\t//handle comment delete\n\t\tevent.preventDefault();\n\t\tif(this.props.location.pathname == '/BlogEditor') {\n\t\t\t//no delete buttons\n\t\t}\n\t\telse {\n\t\t\t//tell backend which comment to delete\n\t\t\tfetch(config.serverUrl+\"/comment/\"+this.state.commentdeletePK+\"/delete\", {//fetch put\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\theader: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': \"token \"+this.props.authenticated\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => {\n\t\t\t\talert(JSON.stringify(data.msg));\n\t\t\t\tthis.setState({\n\t\t\t\t\tcommentdeletePK:''\n\t\t\t\t});\n\t\t\t})\n\t\t}\n\t}\n\n\thandleBlur = (field) => (evt) => {\n\t\tthis.setState({\n\t\t\ttouched: { ...this.state.touched, [field]: true }\n\t\t});\n\t}\n\n\tdeletecertaincomment(event, commentpk){\n\t\tthis.setState({\n\t\t\tcommentdeletePK: commentpk\n\t\t});\n\t}\n\n\tvalidate(blogtitle, blogcontent) {\n\t\tconst errors = {\n\t\t\tblogtitle: '',\n            blogcontent: ''\n\t\t};\n\n\t\tif(this.state.touched.blogtitle && blogtitle.length == 0)\n            errors.blogtitle = \"Blog title should not be empty\";\n        else if(this.state.touched.blogtitle && blogtitle.length > 50)\n            errors.blogtitle = \"Blog title should be <= 50 characters\";\n\n\t\tif(this.state.touched.blogcontent && blogcontent.length == 0)\n            errors.blogcontent = \"Blog content should not be empty\";\n\n\t\treturn errors;\n\t}\n\n\trenderComment(comments) {\n\t\tif(this.state.blogcomments == '') {\n\t\t\treturn(\n\t\t\t\t<p style={{color: '#989898'}} className=\"mt-4\">No Comments</p>\n\t\t\t\t\n\t\t\t);\n\t\t}\n\t\telse{\n\t\t//<Form onSubmit={(event) => this.handleComment(event)}>\n\t\t\tconst comment = comments.map((comment) => {\n\t\t\t\treturn(\n\t\t\t\t\t<ListGroupItem>\n\t\t\t\t\t\t<Form onSubmit={(event) => this.handleComment(comment, event)}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<div className=\"col-10\">\n\t\t\t\t\t\t\t\t\t<p className=\"m-0\">{comment.commentname}</p>\n\t\t\t\t\t\t\t\t\t<p className=\"m-0\">{this.props.location.pathname}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-auto\">\n\t\t\t\t\t\t\t\t\t<Button onclick={()=>this.deletecertaincomment(comment.pk)} id={comment.pk} type=\"submit\" value=\"submit\" color=\"danger\">Delete</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t);\n\t\t\t});\n\t\t\treturn comment\n\t\t}\n\t}\n\n\trender() {\n\t\tconst errors = this.validate(this.state.blogtitle, this.state.blogcontent);\n\t\treturn(\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className=\"row row-content\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<Form onSubmit={this.handleSave}>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t<Input type=\"text\" id=\"blogtitle\" name=\"blogtitle\" \n\t\t\t\t\t\t\t\t\t\tplaceholder=\"<blog_title>\" value={this.state.blogtitle}\n\t\t\t\t\t\t\t\t\t\tvalid={errors.blogtitle === ''} \n\t\t\t\t\t\t\t\t\t\tinvalid={errors.blogtitle !== ''} \n\t\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange} \n\t\t\t\t\t\t\t\t\t\tonBlur={this.handleBlur('blogtitle')} />\n\t\t\t\t\t\t\t\t\t<FormFeedback>{errors.blogtitle}</FormFeedback>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<Col sm={12} md={2}>\n\t\t\t\t\t\t\t\t\t<select  name=\"category\" className=\"select-list\" onChange={this.handleInputChange}>\n\t\t\t\t\t\t\t\t\t\t<option value=\"NA\" disabled=\"disabled\">Category</option>\n                                        <option value =\"travel\">Travel</option>\n\t\t\t\t\t\t\t\t\t\t<option value =\"beauty\">Beauty</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t<Input type=\"textarea\" id=\"blogcontent\" name=\"blogcontent\" \n\t\t\t\t\t\t\t\t\t\tplaceholder=\"<blog_title>\" value={this.state.blogcontent}\n\t\t\t\t\t\t\t\t\t\trows=\"12\" valid={errors.blogcontent === ''} \n\t\t\t\t\t\t\t\t\t\tinvalid={errors.blogcontent !== ''} \n\t\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange} \n\t\t\t\t\t\t\t\t\t\tonBlur={this.handleBlur('blogcontent')} />\n\t\t\t\t\t\t\t\t\t<FormFeedback>{errors.blogcontent}</FormFeedback>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<Col xs=\"5\"></Col>\n\t\t\t\t\t\t\t\t<Col xs=\"2\" sm=\"3\" md=\"4\">\n\t\t\t\t\t\t\t\t\t<Button type=\"submit\" value=\"submit\" color=\"primary\">Save</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t<Form  onSubmit={(event) => this.handleDelete(event)}>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<Col xs=\"5\"></Col>\n\t\t\t\t\t\t\t\t<Col xs=\"2\" sm=\"3\" md=\"4\"></Col>\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t<Link to={`/myBlogs/${this.props.username}`} className=\"btn btn-secondary\">Cancel</Link>\n\t\t\t\t\t\t\t\t\t<Link to={`/myBlogs/${this.props.username}`}>\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" value=\"submit\" color=\"danger\">Delete</Button>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row comment-row-content\">\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<h4>Comments</h4>\n\t\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t\t{this.renderComment(this.state.blogcomments)}\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Col>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default BlogEditor;","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/components/HeaderComponent.js",["100","101"],"import React, { Component } from 'react';\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem, NavLink, Button, Modal, ModalHeader, ModalBody, Col, Row, Form, FormGroup, Label, Input } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport {baseUrl} from '../shared/baseUrl';\nvar config = require('../config');\n\nclass Header extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            username:'',\n            password: '',\n            isNavOpen: false,\n            isModalSignUpOpen: false,\n            isModalLoginOpen: false,\n        };\n        \n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.toggleNav = this.toggleNav.bind(this);\n        this.toggleModalSignUp = this.toggleModalSignUp.bind(this);\n        this.toggleModalLogin = this.toggleModalLogin.bind(this);\n        this.handleLogin = this.handleLogin.bind(this);\n        this.handleSignup = this.handleSignup.bind(this);\n        this.handeLogout = this.handeLogout.bind(this);\n    }\n\n    toggleNav(){\n        this.setState({\n            isNavOpen: !this.state.isNavOpen\n        });\n    }\n\n    toggleModalSignUp(){\n        this.setState({\n            isModalSignUpOpen: !this.state.isModalSignUpOpen,\n        });\n    }\n\n    toggleModalLogin(){\n        this.setState({\n            isModalLoginOpen: !this.state.isModalLoginOpen,\n        });\n    }\n\n    handleInputChange(event){\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    handleSignup(event){\n        event.preventDefault();\n        //alert(\"Sign up\");\n        let databody = {\n            \"username\": this.state.username,\n            \"password\": this.state.password\n        }\n        fetch(config.serverUrl+'/account/register', {\n            method: 'POST',\n            body: JSON.stringify(databody),\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        })\n        .then(res => res.json())\n        .then(data => {\n            if(data.error_message) alert(data.error_message);\n            else{\n                alert(\"Please Login with your username and password.\");\n                this.toggleModalLogin();\n                this.toggleModalSignUp();\n            }\n        })\n    }\n\n    handleLogin(event){\n        event.preventDefault();\n        //alert(\"Login\");\n        let databody = {\n            \"username\": this.state.username,\n            \"password\": this.state.password\n        }\n        fetch(config.serverUrl+'/account/login', {\n            method: 'POST',\n            body: JSON.stringify(databody),\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        })\n        .then(res => res.json())\n        .then(data => {\n            if(data.error_message) alert(data.error_message);\n            else{\n                this.props.onUsernameChange(this.state.username, data.token);\n                alert(data.response);\n                this.toggleModalLogin();\n            }\n        })\n    }\n\n    handeLogout(event){\n        event.preventDefault();\n        // if(this.props.authenticated){\n        //     let databody = {\n        //         \"username\": this.props.username\n        //     }\n        //     fetch(config.serverUrl+'/users/logout', {\n        //         method: 'PUT',\n        //         body: JSON.stringify(databody),\n        //         headers: {\n        //             'Content-Type': 'application/json',\n        //         },\n        //     })\n        //     .then(res => res.json())\n        //     .then(data => {\n        //         if(data.success === false) alert(data.msg);\n        //         else{\n        //             this.props.onUsernameChange(this.state.username, '');\n        //             this.props.history.push('/home');\n        //         }\n        //     })\n        // }\n        // else\n        if(this.props.authenticated){\n            this.props.onUsernameChange(this.state.username, '');\n            this.props.history.push('/home');\n            alert(\"Successfully logout!\");\n        }\n        else{\n            alert(\"You have not logged in!\");\n        }\n    }\n\n    render(){\n        return(\n            <>\n                <Navbar dark className=\"custom-header\" expand=\"lg\">\n                    <NavbarBrand href=\"/home\">Logo</NavbarBrand>\n                    <NavbarToggler id=\"nav\" onClick={this.toggleNav} />\n                    <Collapse isOpen={this.state.isNavOpen} navbar>\n                    <Nav className=\"mr-auto\" navbar>\n                        <NavItem>\n                            <Link className=\"nav-link\" to=\"/home\"><span className=\"fa fa-home fa-lg\"></span> Home</Link>\n                        </NavItem>\n                        <NavItem>\n                            <Link className=\"nav-link\" to=\"/myBlogs\"><span className=\"fa fa-user-circle-o fa-lg\"></span> MyBlogs</Link>\n                        </NavItem>\n                        <NavItem>\n                            <Link className=\"nav-link\" to=\"/favorite\"><span className=\"fa fa-heart fa-lg\"></span> Fav List</Link>\n                        </NavItem>\n                    </Nav>\n                    <Nav className=\"ml-auto\" navbar>\n                        <NavItem>\n                            <Button id=\"signup\" className=\"button-mr\" outline onClick={this.toggleModalSignUp}>\n                                <span className=\"fa fa-user-plus fa-lg\"></span> Sign up\n                            </Button>\n                        </NavItem>\n                        <NavItem>\n                            <Button id=\"login\" className=\"button-mr\" outline onClick={this.toggleModalLogin}>\n                                <span className=\"fa fa-sign-in fa-lg\"></span> Login\n                            </Button>\n                        </NavItem>\n                        <NavItem>\n                            <Button className=\"button-mr\" outline onClick={this.handeLogout}>\n                                <span className=\"fa fa-sign-out fa-lg\"></span> Logout\n                            </Button>\n                        </NavItem>\n                    </Nav>\n                    </Collapse>\n                </Navbar>\n\n                <Modal isOpen={this.state.isModalSignUpOpen} toggle={this.toggleModalSignUp}>\n                    <ModalHeader toggle={this.toggleModalSignUp}>Sign Up</ModalHeader>\n                    <ModalBody>\n                        <Form id=\"signupForm\" onSubmit={this.handleSignup}>\n                            <Row>\n                                <Col xs={12} sm={{size: 8, offset:2}}>\n                                    <FormGroup>\n                                        <Label htmlFor=\"username\">Username</Label>\n                                        <Input type=\"text\" id=\"username1\" name=\"username\" value={this.state.username} onChange={this.handleInputChange}/>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col xs={12} sm={{size: 8, offset:2}}>\n                                    <FormGroup>\n                                        <Label htmlFor=\"password\">Password</Label>\n                                        <Input type=\"password\" id=\"password1\" name=\"password\" value={this.state.password} onChange={this.handleInputChange}/>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                            <Row style={{marginTop: \"10px\"}}>\n                                <Col xs={12} md={{size: 4, offset:2}}>\n                                    <FormGroup>\n                                        <Button type=\"submit\" value=\"submit\" color=\"primary\" style={{width: \"100%\"}}>Sign up</Button>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                        </Form>\n                    </ModalBody>\n                </Modal>\n                <Modal isOpen={this.state.isModalLoginOpen} toggle={this.toggleModalLogin}>\n                    <ModalHeader toggle={this.toggleModalLogin}>Login</ModalHeader>\n                    <ModalBody>\n                        <Form onSubmit={this.handleLogin}>\n                            <Row>\n                                <Col xs={12} sm={{size: 8, offset:2}}>\n                                    <FormGroup>\n                                        <Label htmlFor=\"username\">Username</Label>\n                                        <Input type=\"text\" id=\"username\" name=\"username\" value={this.state.username} onChange={this.handleInputChange}/>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col xs={12} sm={{size: 8, offset:2}}>\n                                    <FormGroup>\n                                        <Label htmlFor=\"password\">Password</Label>\n                                        <Input type=\"password\" id=\"password\" name=\"password\" value={this.state.password} onChange={this.handleInputChange}/>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                            <Row style={{marginTop: \"10px\"}}>\n                                <Col xs={12} md={{size: 4, offset:2}}>\n                                    <FormGroup>\n                                        <Button type=\"submit\" value=\"submit\" color=\"primary\" style={{width: \"100%\"}}>Login</Button>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                        </Form>\n                    </ModalBody>\n                </Modal>\n            </>\n        );\n    }\n}\n\nexport default Header;","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/components/HomeComponent.js",["102","103"],"import React, {Component} from 'react';\nimport {Button, Form, FormGroup, Input, Col, Row} from 'reactstrap';\nimport { Link } from 'react-router-dom';\nvar config = require('../config');\n\nclass Home extends Component{\n    constructor(props){\n        super(props);\n\n        this.state = {\n            search:'NA',\n            blogs: [],\n            submit: false\n        }\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n    }\n\n    componentDidMount() {\n        if(this.props.location.state){\n            fetch(config.serverUrl+'/post/list', {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"token \"+this.props.authenticated\n                },\n                params:{\n                    'search':this.props.location.state.search\n                }\n            })\n            .then(res => res.json())\n            .then(data => {\n                this.setState({\n                    blogs: data\n                })\n            })\n        }\n    }\n\n    handleInputChange(event){\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    handleSubmit(event){\n        event.preventDefault();\n        if(this.state.search!='NA'){\n            fetch(config.serverUrl+'/post/list', {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"token \"+this.props.authenticated\n                },\n                params:{\n                    'search':this.state.search\n                }\n            })\n            .then(res => res.json())\n            .then(data => {\n                this.setState({\n                    blogs: data\n                });\n                this.setState({submit: true});\n            })\n        }\n        else{\n            alert(\"Please enter keyword(s)!\");\n        }\n    }\n\n    render(){\n\n        var blog;\n        if(this.state.blogs.length !== 0){\n            blog = this.state.blogs.map((blog) => {\n                return (\n                    <div key={blog.blog_id} className=\"row col-12 col-md-8 offset-md-1\" style={{marginBottom:\"30px\", borderStyle:\"solid\", borderRadius:\"10px\", borderWidth:\"1px\", borderColor:\"#D7D7D7\"}}>\n                        <div className=\"col-12 col-md-6 offset-md-3\" style={{marginTop: \"30px\"}}>\n                            <p><strong>Title:</strong> {blog.title}</p>\n                        </div>\n                        <div className=\"col-12 col-md-6 offset-md-3\">\n                            <p><strong>Author:</strong> {blog.username}</p>\n                        </div>\n                        <div className=\"col-12 col-md-6 offset-md-3\">\n                            <p><strong>Category:</strong> {blog.category}</p>\n                        </div>\n                        <div className=\"col-6 col-md-3 offset-6 offset-md-9 border\" style={{borderRadius:\"5px\", backgroundColor:\"#0A304E\", height:\"40px\",width:\"100%\",paddingTop:\"8px\", marginBottom:\"20px\"}}>\n                            <center><strong><Link to={{ pathname: '/post' , state: { search: this.state.search, id: blog.pk} }} style={{ color: '#FFF' }}> Read</Link></strong></center>\n                        </div>\n                    </div>\n                );\n            })\n        }\n        else if(this.state.search != 'NA' && this.state.submit){\n            blog =(\n                    <div className=\"container\">\n                        <center><h5 style={{marginTop:\"22px\", fontFamily:\"Arial Black\"}}>No Blogs Found</h5></center>\n                    </div>\n            );\n        }\n\n        return(\n            <div className=\"container\" style={{minHeight:\"770px\"}}>\n                <Row style={{marginTop: \"30px\"}}>\n                    <Col xs={12}>\n                        <Form onSubmit={this.handleSubmit}>\n                            <Row>\n                                <Col sm={12} md={9} className=\"mr-auto\">\n                                    <i className=\"fa fa-search fa-lg icon\"></i>\n                                    <FormGroup>\n                                        <Input id=\"searchBar\" type=\"text\" className=\"searchBar\" name=\"search\" style={{height: \"50px\", width: \"110%\", paddingLeft:\"50px\"}} placeholder=\"Search..\" onChange={this.handleInputChange}/>\n                                    </FormGroup>\n                                </Col>\n                                <Col sm={6} md={2}>\n                                    <FormGroup>\n                                        <Button type=\"submit\" className=\"searchButton\" style={{backgroundColor:\"#0A304E\"}}><b><center>Search</center></b></Button>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                        </Form>\n                    </Col>\n                </Row>\n                <div className=\"col-12\" style={{marginTop:\"22px\"}}>\n                    <div className=\"row\">\n                        {blog}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Home;","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/components/BlogViewerComponent.js",["104","105","106"],"import React, {Component} from 'react';\nimport {Breadcrumb, BreadcrumbItem, Button, Form, FormGroup, FormFeedback, Modal, ModalHeader, ModalBody, Row, Col, Label, Input} from 'reactstrap';\nimport {Link} from 'react-router-dom';\nvar config = require('../config');\n\nclass BlogViewer extends Component{\n    constructor(props){\n        super(props);\n        this.state={\n            id:'',\n            title:'',\n            author:'',\n            blog_content:'',\n            comments:[],\n            fav_list:[],\n            newComment:'',\n            isModalOpen: false,\n            touched: {\n                newComment: false\n            }\n        }\n        this.toggleModal = this.toggleModal.bind(this);\n        this.handleFav = this.handleFav.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleBlur = this.handleBlur.bind(this);\n    }\n\n    componentDidMount() {\n        fetch(config.serverUrl+\"/post/\"+this.props.location.state.id+\"/\", {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': \"token \"+this.props.authenticated\n            }\n        })\n        .then(res => res.json())\n        .then(data => {\n            if(data.error_message) alert(data.error_message);\n            else{\n                this.setState({\n                    id: data.pk,\n                    title: data.title,\n                    author: data.username,\n                    blog_content: data.content\n                });\n                if(this.props.authenticated){\n                    fetch(config.serverUrl+\"/account/properties\", {\n                        method:\"GET\",\n                        headers:{\n                            'Content-Type': 'application/json',\n                            'Authorization': \"token \"+this.props.authenticated\n                        }\n                    })\n                    .then(res2 => res2.json())\n                    .then(data2 => {\n                            if(data2.error_message) alert(data2.error_message);\n                            else{\n                                var fav = []\n                                var temp = data2.fav_list.replace(\"[\",\"\").replace(\"]\",\"\").split(\",\")\n                                for(var i = 0;i < temp.length;i++){\n                                    fav.push(parseInt(temp[i]))\n                                }\n                                this.setState({\n                                    fav_list: fav\n                                });\n                                fetch(config.serverUrl+\"/comment/list\", {\n                                    method:\"GET\",\n                                    headers: {\n                                        'Content-Type': 'application/json',\n                                        'Authorization': \"token \"+this.props.authenticated\n                                    },\n                                    params:{\n                                        'search': this.state.id\n                                    }\n                                })\n                                .then(res3 => res3.json())\n                                .then(data3 => {\n                                    if(data3.error_message) alert(data3.error_message);\n                                    else{\n                                        this.setState({\n                                            comments: data3\n                                        });\n                                    }\n                                    //alert(JSON.stringify(data));\n                                    //alert(JSON.stringify(data2));\n                                    //alert(JSON.stringify(data3));\n                                    //alert(this.state.fav_list);\n                                })\n                            }\n                        }\n                    )\n                }\n            }\n        })\n    }\n\n    toggleModal(){\n        this.setState({\n            isModalOpen: !this.state.isModalOpen,\n        });\n    }\n\n    handleInputChange(event){\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    handleBlur = (field) => (evt) => {\n        this.setState({\n            touched: { ...this.state.touched, [field]: true },\n        });\n    }\n\n    handleFav(event){\n        event.preventDefault();\n        if(this.props.authenticated){\n            var found = false;\n            for(var i = 0;i < this.state.fav_list.length && found == false;i++){\n                if(this.state.fav_list[i] == this.state.id){\n                    found = true;\n                }\n            }\n            if(found) alert(\"This blog has already been added to your favorite list!\");\n            else{\n                var newFav = this.state.fav_list;\n                newFav.push(this.state.id);\n                alert(\"[\"+newFav.toString()+\"]\");\n                let databody = {\n                    \"fav_list\": \"[\"+newFav.toString()+\"]\"\n                }\n                fetch(config.serverUrl+\"/account/properties/update\", {\n                    method: 'PUT',\n                    body: JSON.stringify(databody),\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': \"token \"+this.props.authenticated\n                    },\n                    params: {\n                        'fav_list': \"[\"+newFav.toString()+\"]\"\n                    }\n                })\n                .then(res => res.json())\n                .then(data => {\n                    alert(\"This blog has been added to your Fav List!\");\n                })\n            }\n        }\n        else{\n            alert(\"Please Login first!\");\n        }\n    }\n\n    handleSubmit(event){\n        event.preventDefault();\n        if(this.props.authenticated){\n            let databody = {\n                \"content\": this.state.newComment,\n                \"post\": this.state.id\n            }\n            fetch(config.serverUrl+\"/comment/create\", {\n                method: 'POST',\n                body: JSON.stringify(databody),\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': \"token \"+this.props.authenticated\n                },\n            })\n            .then(res => res.json())\n            .then(data => {\n                alert(\"Successfully comment on this blog!\");\n                var n = this.state.comments;\n                n.push({'username': this.props.username,'content':this.state.newComment});\n                this.setState({comments: n});\n                this.toggleModal();\n            })\n        }\n        else{\n            alert(\"Please Sign up or Login first!\");\n        }\n    }\n\n    validate(newComment) {\n\n        const errors = {\n            newComment:''\n        };\n\n        if (this.state.touched.newComment && newComment.length < 1)\n            errors.newComment = 'Comment is required';\n\n        return errors;\n    }\n\n    render(){\n        const errors = this.validate(this.state.newComment);\n\n        return(\n            <div className=\"container\" style={{minHeight:\"770px\"}}>\n                <div className=\"row\">\n                    <Breadcrumb>\n                        <BreadcrumbItem><Link to={{ pathname: '/home' , state: { search: this.props.location.state.search, category: this.props.location.state.category} }}>Search Results</Link></BreadcrumbItem>\n                        <BreadcrumbItem active>{this.state.title}</BreadcrumbItem>\n                    </Breadcrumb>                    \n                </div>\n                <h1 style={{textAlign:\"center\"}}>{this.state.title}</h1>\n                <h2 style={{textAlign:\"center\"}}>BY {this.state.author}</h2>\n                <div className=\"row\" style={{borderStyle:\"solid\", borderColor: \"#D7D7D7\", borderWidth:\"1px\",borderRadius:\"10px\", padding:\"20px\"}}>\n                    <div className=\"col-12\">\n                        <p>{this.state.blog_content}</p>\n                    </div>\n                    <br />\n                    <div className=\"col-9 col-md-3 offset-md-8\">\n                        <Button id=\"post\" disabled={!this.props.authenticated} onClick={this.toggleModal} style={{background:\"rgba(10,48,78,0.41)\", width:\"100%\", fontFamily:\"Arial Black\", color:\"white\", border:\"none\"}}>\n                            <i class=\"fa fa-pencil\" aria-hidden=\"true\"></i> Post comment\n                        </Button>\n                    </div>\n                    <div className=\"col-3 col-md-1\">\n                        <Form onSubmit={this.handleFav} class=\"form-style\">\n                            <Button type=\"submit\" value=\"submit\" style={{background:\"rgba(10,48,78,0.41)\", fontFamily:\"Arial Black\",border:\"none\", borderRadius: \"50%\"}}>\n                                <i class=\"fa fa-heart\" aria-hidden=\"true\"></i>\n                            </Button>\n                        </Form>\n                    </div>\n                </div>\n                <div className=\"row\" style={{marginTop: \"20px\"}}>\n                    <div className=\"col-12\">\n                        <hr className=\"seperation\" />\n                    </div>\n                    <div className=\"col-12 col-md-6\">\n                        <p style={{fontSize:\"16px\", fontFamily:\"Arial Black\"}}>Comments</p>\n                    </div>\n                </div>\n                {\n                    this.state.comments.map((comment) => {\n                        return (\n                            <div className=\"row\" style={{marginBottom:\"30px\", paddingLeft:\"20px\"}}>\n                                <div className=\"col-12\" style={{marginTop:\"20px\"}}>\n                                    <p><strong>Author: </strong> {comment.username}</p>\n                                </div>\n                                <div className=\"col-12\">\n                                    <p><strong>Comment: </strong> {comment.content}</p>\n                                </div>\n                                <div className=\"col-12\" style={{marginTop:\"-20px\"}}>\n                                    <hr style={{border:\"1px dashed #D7D7D7\"}} />\n                                </div>\n                            </div>\n                        );\n                    })\n                }\n                <Modal isOpen={this.state.isModalOpen} toggle={this.toggleModal}>\n                    <ModalHeader toggle={this.toggleModal}>Post Your Comment</ModalHeader>\n                    <ModalBody>\n                        <Form onSubmit={this.handleSubmit} class=\"form-style\">\n                            <Row>\n                                <Col xs={12}>\n                                    <FormGroup className=\"form-style-form-group\">\n                                        <Label htmlFor=\"newComment\" className=\"form-style-label\">Comment (Required)</Label>\n                                        <Input type=\"textarea\" id=\"newComment\" name=\"newComment\" rows=\"5\" value={this.state.newComment} onChange={this.handleInputChange} valid={errors.newComment === ''} invalid={errors.newComment !== ''} onBlur={this.handleBlur('newComment')}/>\n                                        <FormFeedback>{errors.newComment}</FormFeedback>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col sm={12} md={{size:6, offset:3}}>\n                                    <FormGroup>\n                                        <Button disabled={ this.state.newComment === '' || errors.newComment != ''} type=\"submit\" value=\"submit\" style={{background:\"#0A304E\", width:\"100%\", fontFamily:\"Arial Black\"}}>Submit</Button>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                        </Form>\n                    </ModalBody>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nexport default BlogViewer;","/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/config.js",[],"/Users/qiwen/Desktop/NR/2021spring/csds 393/CSDS-393-final-project/frontend/src/shared/baseUrl.js",[],{"ruleId":"107","replacedBy":"108"},{"ruleId":"109","replacedBy":"110"},{"ruleId":"111","severity":1,"message":"112","line":1,"column":1,"nodeType":"113","messageId":"114","fix":"115"},{"ruleId":"116","severity":1,"message":"117","line":4,"column":2,"nodeType":"118","messageId":"119","endLine":6,"endColumn":3},{"ruleId":"120","severity":1,"message":"121","line":1,"column":8,"nodeType":"122","messageId":"123","endLine":1,"endColumn":12},{"ruleId":"120","severity":1,"message":"124","line":3,"column":17,"nodeType":"122","messageId":"123","endLine":3,"endColumn":21},{"ruleId":"120","severity":1,"message":"125","line":3,"column":23,"nodeType":"122","messageId":"123","endLine":3,"endColumn":32},{"ruleId":"120","severity":1,"message":"126","line":3,"column":34,"nodeType":"122","messageId":"123","endLine":3,"endColumn":39},{"ruleId":"120","severity":1,"message":"127","line":3,"column":41,"nodeType":"122","messageId":"123","endLine":3,"endColumn":44},{"ruleId":"120","severity":1,"message":"128","line":3,"column":46,"nodeType":"122","messageId":"123","endLine":3,"endColumn":49},{"ruleId":"120","severity":1,"message":"129","line":5,"column":9,"nodeType":"122","messageId":"123","endLine":5,"endColumn":15},{"ruleId":"120","severity":1,"message":"130","line":5,"column":17,"nodeType":"122","messageId":"123","endLine":5,"endColumn":22},{"ruleId":"120","severity":1,"message":"131","line":5,"column":24,"nodeType":"122","messageId":"123","endLine":5,"endColumn":32},{"ruleId":"120","severity":1,"message":"132","line":5,"column":34,"nodeType":"122","messageId":"123","endLine":5,"endColumn":44},{"ruleId":"133","severity":1,"message":"134","line":59,"column":23,"nodeType":"135","messageId":"114","endLine":59,"endColumn":25},{"ruleId":"133","severity":1,"message":"134","line":67,"column":15,"nodeType":"135","messageId":"114","endLine":67,"endColumn":17},{"ruleId":"120","severity":1,"message":"124","line":2,"column":17,"nodeType":"122","messageId":"123","endLine":2,"endColumn":21},{"ruleId":"120","severity":1,"message":"125","line":2,"column":23,"nodeType":"122","messageId":"123","endLine":2,"endColumn":32},{"ruleId":"120","severity":1,"message":"126","line":2,"column":34,"nodeType":"122","messageId":"123","endLine":2,"endColumn":39},{"ruleId":"120","severity":1,"message":"127","line":2,"column":41,"nodeType":"122","messageId":"123","endLine":2,"endColumn":44},{"ruleId":"120","severity":1,"message":"128","line":2,"column":46,"nodeType":"122","messageId":"123","endLine":2,"endColumn":49},{"ruleId":"133","severity":1,"message":"136","line":50,"column":21,"nodeType":"135","messageId":"114","endLine":50,"endColumn":23},{"ruleId":"120","severity":1,"message":"137","line":64,"column":9,"nodeType":"122","messageId":"123","endLine":64,"endColumn":16},{"ruleId":"138","severity":1,"message":"139","line":64,"column":47,"nodeType":"140","messageId":"141","endLine":64,"endColumn":49},{"ruleId":"133","severity":1,"message":"134","line":65,"column":15,"nodeType":"135","messageId":"114","endLine":65,"endColumn":17},{"ruleId":"133","severity":1,"message":"134","line":93,"column":30,"nodeType":"135","messageId":"114","endLine":93,"endColumn":32},{"ruleId":"133","severity":1,"message":"134","line":101,"column":15,"nodeType":"135","messageId":"114","endLine":101,"endColumn":17},{"ruleId":"120","severity":1,"message":"129","line":4,"column":9,"nodeType":"122","messageId":"123","endLine":4,"endColumn":15},{"ruleId":"120","severity":1,"message":"130","line":4,"column":17,"nodeType":"122","messageId":"123","endLine":4,"endColumn":22},{"ruleId":"120","severity":1,"message":"131","line":4,"column":24,"nodeType":"122","messageId":"123","endLine":4,"endColumn":32},{"ruleId":"120","severity":1,"message":"132","line":4,"column":34,"nodeType":"122","messageId":"123","endLine":4,"endColumn":44},{"ruleId":"133","severity":1,"message":"134","line":47,"column":35,"nodeType":"135","messageId":"114","endLine":47,"endColumn":37},{"ruleId":"133","severity":1,"message":"134","line":115,"column":35,"nodeType":"135","messageId":"114","endLine":115,"endColumn":37},{"ruleId":"133","severity":1,"message":"134","line":143,"column":35,"nodeType":"135","messageId":"114","endLine":143,"endColumn":37},{"ruleId":"133","severity":1,"message":"134","line":184,"column":35,"nodeType":"135","messageId":"114","endLine":184,"endColumn":37},{"ruleId":"133","severity":1,"message":"134","line":224,"column":55,"nodeType":"135","messageId":"114","endLine":224,"endColumn":57},{"ruleId":"133","severity":1,"message":"134","line":229,"column":59,"nodeType":"135","messageId":"114","endLine":229,"endColumn":61},{"ruleId":"133","severity":1,"message":"134","line":236,"column":30,"nodeType":"135","messageId":"114","endLine":236,"endColumn":32},{"ruleId":"120","severity":1,"message":"142","line":2,"column":70,"nodeType":"122","messageId":"123","endLine":2,"endColumn":77},{"ruleId":"120","severity":1,"message":"143","line":4,"column":9,"nodeType":"122","messageId":"123","endLine":4,"endColumn":16},{"ruleId":"133","severity":1,"message":"136","line":53,"column":29,"nodeType":"135","messageId":"114","endLine":53,"endColumn":31},{"ruleId":"133","severity":1,"message":"136","line":100,"column":35,"nodeType":"135","messageId":"114","endLine":100,"endColumn":37},{"ruleId":"133","severity":1,"message":"134","line":124,"column":67,"nodeType":"135","messageId":"114","endLine":124,"endColumn":69},{"ruleId":"133","severity":1,"message":"134","line":125,"column":43,"nodeType":"135","messageId":"114","endLine":125,"endColumn":45},{"ruleId":"133","severity":1,"message":"136","line":272,"column":110,"nodeType":"135","messageId":"114","endLine":272,"endColumn":112},"no-native-reassign",["144"],"no-negated-in-lhs",["145"],"unicode-bom","Unexpected Unicode BOM (Byte Order Mark).","Program","unexpected",{"range":"146","text":"147"},"no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","no-unused-vars","'Home' is defined but never used.","Identifier","unusedVar","'Form' is defined but never used.","'FormGroup' is defined but never used.","'Input' is defined but never used.","'Col' is defined but never used.","'Row' is defined but never used.","'Switch' is defined but never used.","'Route' is defined but never used.","'Redirect' is defined but never used.","'withRouter' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","Expected '!==' and instead saw '!='.","'newlist' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'NavLink' is defined but never used.","'baseUrl' is defined but never used.","no-global-assign","no-unsafe-negation",[-1,0],""]