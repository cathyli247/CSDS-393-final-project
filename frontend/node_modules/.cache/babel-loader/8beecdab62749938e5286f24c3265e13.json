{"ast":null,"code":"var _jsxFileName = \"/Users/gilgamesh/Desktop/code/393/sites/frontend/src/components/BlogViewerComponent.js\";\nimport React, { Component } from 'react';\nimport { Breadcrumb, BreadcrumbItem, Button, Form, FormGroup, FormFeedback, Modal, ModalHeader, ModalBody, Row, Col, Label, Input } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar config = require('../config');\n\nclass BlogViewer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleBlur = field => evt => {\n      this.setState({\n        touched: { ...this.state.touched,\n          [field]: true\n        }\n      });\n    };\n\n    this.state = {\n      id: '',\n      title: '',\n      author: '',\n      blog_content: '',\n      comments: [],\n      newComment: '',\n      isModalOpen: false,\n      touched: {\n        newComment: false\n      }\n    };\n    this.toggleModal = this.toggleModal.bind(this);\n    this.handleFav = this.handleFav.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(config.serverUrl + this.props.path, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      this.setState({\n        id: data.blog_id,\n        title: data.title,\n        author: data.author,\n        blog_content: data.blog_content,\n        comments: data.comments\n      });\n    });\n  }\n\n  toggleModal() {\n    this.setState({\n      isModalOpen: !this.state.isModalOpen\n    });\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleFav(event) {\n    event.preventDefault();\n\n    if (this.props.authenticated) {\n      let databody = {\n        \"fav\": this.state.blog_id,\n        \"username\": this.props.username\n      };\n      fetch(config.serverUrl + this.props.path, {\n        method: 'PUT',\n        body: JSON.stringify(databody),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(res => res.json()).then(data => {\n        if (data.success) alert(\"This blog has been added to your Fav List!\");else alert(JSON.stringify(data.msg));\n      });\n    } else {\n      alert(\"Please Sign up or Login first!\");\n    }\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    if (this.props.authenticated) {\n      let databody = {\n        \"comment_content\": this.state.newComment,\n        \"username\": this.props.username\n      };\n      fetch(config.serverUrl + this.props.path, {\n        method: 'PUT',\n        body: JSON.stringify(databody),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(res => res.json()).then(data => {\n        if (data.success) {\n          alert(\"Successfully comment on this blog!\");\n          this.toggleModal();\n        } else alert(JSON.stringify(data.msg));\n      });\n    } else {\n      alert(\"Please Sign up or Login first!\");\n    }\n  }\n\n  validate(newComment) {\n    const errors = {\n      newComment: ''\n    };\n    if (this.state.touched.newComment && newComment.length < 1) errors.newComment = 'Comment is required';\n    return errors;\n  }\n\n  render() {\n    const errors = this.validate(this.state.newComment);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(Breadcrumb, {\n          children: [/*#__PURE__*/_jsxDEV(BreadcrumbItem, {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: '/home',\n                state: {\n                  search: this.props.location.state.search,\n                  category: this.props.location.state.category\n                }\n              },\n              children: \"Search Results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(BreadcrumbItem, {\n            active: true,\n            children: this.state.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: this.state.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: [\"BY \", this.state.author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        style: {\n          borderStyle: \"solid\",\n          borderColor: \"#D7D7D7\",\n          borderWidth: \"1px\",\n          borderRadius: \"10px\",\n          padding: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.state.blog_content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-9 col-md-3 offset-md-8\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            id: \"post\",\n            disabled: !this.props.authenticated,\n            onClick: this.toggleModal,\n            style: {\n              background: \"rgba(10,48,78,0.41)\",\n              width: \"100%\",\n              fontFamily: \"Arial Black\",\n              color: \"white\",\n              border: \"none\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fa fa-pencil\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 29\n            }, this), \" Post comment\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-3 col-md-1\",\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: this.handleFav,\n            class: \"form-style\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              value: \"submit\",\n              style: {\n                background: \"rgba(10,48,78,0.41)\",\n                fontFamily: \"Arial Black\",\n                border: \"none\",\n                borderRadius: \"50%\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fa fa-heart\",\n                \"aria-hidden\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        style: {\n          marginTop: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"seperation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: \"16px\",\n              fontFamily: \"Arial Black\"\n            },\n            children: \"Comments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this), this.state.comments.map(comment => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          style: {\n            marginBottom: \"30px\",\n            paddingLeft: \"20px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            style: {\n              marginTop: \"20px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Author: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 40\n              }, this), \" \", comment.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Comment: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 40\n              }, this), \" \", comment.comment_content]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            style: {\n              marginTop: \"-20px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"hr\", {\n              style: {\n                border: \"1px dashed #D7D7D7\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 29\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: this.state.isModalOpen,\n        toggle: this.toggleModal,\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          toggle: this.toggleModal,\n          children: \"Post Your Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: this.handleSubmit,\n            class: \"form-style\",\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                  className: \"form-style-form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    htmlFor: \"newComment\",\n                    className: \"form-style-label\",\n                    children: \"Comment (Required)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    type: \"textarea\",\n                    id: \"newComment\",\n                    name: \"newComment\",\n                    rows: \"5\",\n                    value: this.state.newComment,\n                    onChange: this.handleInputChange,\n                    valid: errors.newComment === '',\n                    invalid: errors.newComment !== '',\n                    onBlur: this.handleBlur('newComment')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(FormFeedback, {\n                    children: errors.newComment\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                sm: 12,\n                md: {\n                  size: 6,\n                  offset: 3\n                },\n                children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    disabled: this.state.newComment === '' || errors.newComment != '',\n                    type: \"submit\",\n                    value: \"submit\",\n                    style: {\n                      background: \"#0A304E\",\n                      width: \"100%\",\n                      fontFamily: \"Arial Black\"\n                    },\n                    children: \"Submit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default BlogViewer;","map":{"version":3,"sources":["/Users/gilgamesh/Desktop/code/393/sites/frontend/src/components/BlogViewerComponent.js"],"names":["React","Component","Breadcrumb","BreadcrumbItem","Button","Form","FormGroup","FormFeedback","Modal","ModalHeader","ModalBody","Row","Col","Label","Input","Link","config","require","BlogViewer","constructor","props","handleBlur","field","evt","setState","touched","state","id","title","author","blog_content","comments","newComment","isModalOpen","toggleModal","bind","handleFav","handleSubmit","handleInputChange","componentDidMount","fetch","serverUrl","path","method","headers","then","res","json","data","blog_id","event","target","value","name","preventDefault","authenticated","databody","username","body","JSON","stringify","success","alert","msg","validate","errors","length","render","pathname","search","location","category","textAlign","borderStyle","borderColor","borderWidth","borderRadius","padding","background","width","fontFamily","color","border","marginTop","fontSize","map","comment","marginBottom","paddingLeft","comment_content","size","offset"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Breadcrumb, BreadcrumbItem, Button, Form, FormGroup, FormFeedback, Modal, ModalHeader, ModalBody, Row, Col, Label, Input} from 'reactstrap';\nimport {Link} from 'react-router-dom';\nvar config = require('../config');\n\nclass BlogViewer extends Component{\n    constructor(props){\n        super(props);\n        this.state={\n            id:'',\n            title:'',\n            author:'',\n            blog_content:'',\n            comments:[],\n            newComment:'',\n            isModalOpen: false,\n            touched: {\n                newComment: false\n            }\n        }\n        this.toggleModal = this.toggleModal.bind(this);\n        this.handleFav = this.handleFav.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleBlur = this.handleBlur.bind(this);\n    }\n\n    componentDidMount() {\n        fetch(config.serverUrl+this.props.path, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        })\n        .then(res => res.json())\n        .then(data => {\n            this.setState({\n                id: data.blog_id,\n                title: data.title,\n                author: data.author,\n                blog_content: data.blog_content,\n                comments: data.comments\n            })\n        })\n    }\n\n    toggleModal(){\n        this.setState({\n            isModalOpen: !this.state.isModalOpen,\n        });\n    }\n\n    handleInputChange(event){\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    handleBlur = (field) => (evt) => {\n        this.setState({\n            touched: { ...this.state.touched, [field]: true },\n        });\n    }\n\n    handleFav(event){\n        event.preventDefault();\n        if(this.props.authenticated){\n            let databody = {\n                \"fav\": this.state.blog_id,\n                \"username\": this.props.username\n            }\n            fetch(config.serverUrl+this.props.path, {\n                method: 'PUT',\n                body: JSON.stringify(databody),\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            })\n            .then(res => res.json())\n            .then(data => {\n                if(data.success) alert(\"This blog has been added to your Fav List!\");\n                else\n                    alert(JSON.stringify(data.msg));\n            })\n        }\n        else{\n            alert(\"Please Sign up or Login first!\");\n        }\n    }\n\n    handleSubmit(event){\n        event.preventDefault();\n        if(this.props.authenticated){\n            let databody = {\n                \"comment_content\": this.state.newComment,\n                \"username\": this.props.username\n            }\n            fetch(config.serverUrl+this.props.path, {\n                method: 'PUT',\n                body: JSON.stringify(databody),\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n            })\n            .then(res => res.json())\n            .then(data => {\n                if(data.success){\n                    alert(\"Successfully comment on this blog!\");\n                    this.toggleModal();\n                }\n                else\n                    alert(JSON.stringify(data.msg));\n            })\n        }\n        else{\n            alert(\"Please Sign up or Login first!\");\n        }\n    }\n\n    validate(newComment) {\n\n        const errors = {\n            newComment:''\n        };\n\n        if (this.state.touched.newComment && newComment.length < 1)\n            errors.newComment = 'Comment is required';\n\n        return errors;\n    }\n\n    render(){\n        const errors = this.validate(this.state.newComment);\n\n        return(\n            <div className=\"container\">\n                <div className=\"row\">\n                    <Breadcrumb>\n                        <BreadcrumbItem><Link to={{ pathname: '/home' , state: { search: this.props.location.state.search, category: this.props.location.state.category} }}>Search Results</Link></BreadcrumbItem>\n                        <BreadcrumbItem active>{this.state.title}</BreadcrumbItem>\n                    </Breadcrumb>                    \n                </div>\n                <h1 style={{textAlign:\"center\"}}>{this.state.title}</h1>\n                <h2 style={{textAlign:\"center\"}}>BY {this.state.author}</h2>\n                <div className=\"row\" style={{borderStyle:\"solid\", borderColor: \"#D7D7D7\", borderWidth:\"1px\",borderRadius:\"10px\", padding:\"20px\"}}>\n                    <div className=\"col-12\">\n                        <p>{this.state.blog_content}</p>\n                    </div>\n                    <br />\n                    <div className=\"col-9 col-md-3 offset-md-8\">\n                        <Button id=\"post\" disabled={!this.props.authenticated} onClick={this.toggleModal} style={{background:\"rgba(10,48,78,0.41)\", width:\"100%\", fontFamily:\"Arial Black\", color:\"white\", border:\"none\"}}>\n                            <i class=\"fa fa-pencil\" aria-hidden=\"true\"></i> Post comment\n                        </Button>\n                    </div>\n                    <div className=\"col-3 col-md-1\">\n                        <Form onSubmit={this.handleFav} class=\"form-style\">\n                            <Button type=\"submit\" value=\"submit\" style={{background:\"rgba(10,48,78,0.41)\", fontFamily:\"Arial Black\",border:\"none\", borderRadius: \"50%\"}}>\n                                <i class=\"fa fa-heart\" aria-hidden=\"true\"></i>\n                            </Button>\n                        </Form>\n                    </div>\n                </div>\n                <div className=\"row\" style={{marginTop: \"20px\"}}>\n                    <div className=\"col-12\">\n                        <hr className=\"seperation\" />\n                    </div>\n                    <div className=\"col-12 col-md-6\">\n                        <p style={{fontSize:\"16px\", fontFamily:\"Arial Black\"}}>Comments</p>\n                    </div>\n                </div>\n                {\n                    this.state.comments.map((comment) => {\n                        return (\n                            <div className=\"row\" style={{marginBottom:\"30px\", paddingLeft:\"20px\"}}>\n                                <div className=\"col-12\" style={{marginTop:\"20px\"}}>\n                                    <p><strong>Author: </strong> {comment.username}</p>\n                                </div>\n                                <div className=\"col-12\">\n                                    <p><strong>Comment: </strong> {comment.comment_content}</p>\n                                </div>\n                                <div className=\"col-12\" style={{marginTop:\"-20px\"}}>\n                                    <hr style={{border:\"1px dashed #D7D7D7\"}} />\n                                </div>\n                            </div>\n                        );\n                    })\n                }\n                <Modal isOpen={this.state.isModalOpen} toggle={this.toggleModal}>\n                    <ModalHeader toggle={this.toggleModal}>Post Your Comment</ModalHeader>\n                    <ModalBody>\n                        <Form onSubmit={this.handleSubmit} class=\"form-style\">\n                            <Row>\n                                <Col xs={12}>\n                                    <FormGroup className=\"form-style-form-group\">\n                                        <Label htmlFor=\"newComment\" className=\"form-style-label\">Comment (Required)</Label>\n                                        <Input type=\"textarea\" id=\"newComment\" name=\"newComment\" rows=\"5\" value={this.state.newComment} onChange={this.handleInputChange} valid={errors.newComment === ''} invalid={errors.newComment !== ''} onBlur={this.handleBlur('newComment')}/>\n                                        <FormFeedback>{errors.newComment}</FormFeedback>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col sm={12} md={{size:6, offset:3}}>\n                                    <FormGroup>\n                                        <Button disabled={ this.state.newComment === '' || errors.newComment != ''} type=\"submit\" value=\"submit\" style={{background:\"#0A304E\", width:\"100%\", fontFamily:\"Arial Black\"}}>Submit</Button>\n                                    </FormGroup>\n                                </Col>\n                            </Row>\n                        </Form>\n                    </ModalBody>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nexport default BlogViewer;"]},"metadata":{},"sourceType":"module"}