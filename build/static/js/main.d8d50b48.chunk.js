(this["webpackJsonpblog-ui"]=this["webpackJsonpblog-ui"]||[]).push([[0],{24:function(e,t){e.exports={serverUrl:"http://localhost:5000"}},39:function(e,t,s){},53:function(e,t,s){},57:function(e,t,s){"use strict";s.r(t);var n=s(2),a=s.n(n),i=s(20),c=s.n(i),o=(s(39),s(14)),r=s(15),l=s(17),h=s(16),d=s(13),j=s(10),b=s(58),u=s(59),m=s(60),p=s(61),g=s(62),O=s(63),x=s(64),f=s(65),v=s(77),y=s(66),C=s(67),S=s(68),N=s(69),w=s(70),k=s(71),M=s(72),U=s(73),L=s(1),T=s(24),F=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).state={username:"",password:"",isNavOpen:!1,isModalSignUpOpen:!1,isModalLoginOpen:!1},n.handleInputChange=n.handleInputChange.bind(Object(j.a)(n)),n.toggleNav=n.toggleNav.bind(Object(j.a)(n)),n.toggleModalSignUp=n.toggleModalSignUp.bind(Object(j.a)(n)),n.toggleModalLogin=n.toggleModalLogin.bind(Object(j.a)(n)),n.handleLogin=n.handleLogin.bind(Object(j.a)(n)),n.handleSignup=n.handleSignup.bind(Object(j.a)(n)),n.handeLogout=n.handeLogout.bind(Object(j.a)(n)),n}return Object(r.a)(s,[{key:"toggleNav",value:function(){this.setState({isNavOpen:!this.state.isNavOpen})}},{key:"toggleModalSignUp",value:function(){this.setState({isModalSignUpOpen:!this.state.isModalSignUpOpen})}},{key:"toggleModalLogin",value:function(){this.setState({isModalLoginOpen:!this.state.isModalLoginOpen})}},{key:"handleInputChange",value:function(e){var t=e.target,s=t.value,n=t.name;this.setState(Object(d.a)({},n,s))}},{key:"handleSignup",value:function(e){var t=this;e.preventDefault();var s={username:this.state.username,password:this.state.password};fetch(T.serverUrl+"/users/login",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.props.onUsernameChange(t.state.username,e.status),!1===e.success?alert(e.msg):t.props.history.push("/home")}))}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault();var s={username:this.state.username,password:this.state.password};fetch(T.serverUrl+"/users/login",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.props.onUsernameChange(t.state.username,e.status),!1===e.success?alert(e.msg):t.props.history.push("/home")}))}},{key:"handeLogout",value:function(e){var t=this;if(e.preventDefault(),this.props.authenticated){var s={username:this.props.username};fetch(T.serverUrl+"/users/logout",{method:"PUT",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){!1===e.success?alert(e.msg):(t.props.onUsernameChange(t.state.username,!1),t.props.history.push("/home"))}))}else alert("Please Signup or Login first!")}},{key:"render",value:function(){return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(b.a,{dark:!0,className:"custom-header",expand:"lg",children:[Object(L.jsx)(u.a,{href:"/home",children:"Logo"}),Object(L.jsx)(m.a,{id:"nav",onClick:this.toggleNav}),Object(L.jsxs)(p.a,{isOpen:this.state.isNavOpen,navbar:!0,children:[Object(L.jsxs)(g.a,{className:"mr-auto",navbar:!0,children:[Object(L.jsx)(O.a,{children:Object(L.jsxs)(x.a,{href:"/home",children:[Object(L.jsx)("span",{className:"fa fa-home fa-lg"})," Home"]})}),Object(L.jsx)(O.a,{children:Object(L.jsxs)(x.a,{href:"/myBlogs",children:[Object(L.jsx)("span",{className:"fa fa-user-circle-o fa-lg"})," MyBlogs"]})}),Object(L.jsx)(O.a,{children:Object(L.jsxs)(x.a,{href:"/favList",children:[Object(L.jsx)("span",{className:"fa fa-heart fa-lg"})," Fav List"]})})]}),Object(L.jsxs)(g.a,{className:"ml-auto",navbar:!0,children:[Object(L.jsx)(O.a,{children:Object(L.jsxs)(f.a,{id:"signup",className:"button-mr",outline:!0,onClick:this.toggleModalSignUp,children:[Object(L.jsx)("span",{className:"fa fa-user-plus fa-lg"})," Sign up"]})}),Object(L.jsx)(O.a,{children:Object(L.jsxs)(f.a,{id:"login",className:"button-mr",outline:!0,onClick:this.toggleModalLogin,children:[Object(L.jsx)("span",{className:"fa fa-sign-in fa-lg"})," Login"]})}),Object(L.jsx)(O.a,{children:Object(L.jsxs)(f.a,{className:"button-mr",outline:!0,onClick:this.handeLogout,children:[Object(L.jsx)("span",{className:"fa fa-sign-out fa-lg"})," Logout"]})})]})]})]}),Object(L.jsxs)(v.a,{isOpen:this.state.isModalSignUpOpen,toggle:this.toggleModalSignUp,children:[Object(L.jsx)(y.a,{toggle:this.toggleModalSignUp,children:"Sign Up"}),Object(L.jsx)(C.a,{children:Object(L.jsxs)(S.a,{id:"signupForm",onSubmit:this.handleSignup,children:[Object(L.jsx)(N.a,{children:Object(L.jsx)(w.a,{xs:12,sm:{size:8,offset:2},children:Object(L.jsxs)(k.a,{children:[Object(L.jsx)(M.a,{htmlFor:"username",children:"Username"}),Object(L.jsx)(U.a,{type:"text",id:"username1",name:"username",value:this.state.username,onChange:this.handleInputChange})]})})}),Object(L.jsx)(N.a,{children:Object(L.jsx)(w.a,{xs:12,sm:{size:8,offset:2},children:Object(L.jsxs)(k.a,{children:[Object(L.jsx)(M.a,{htmlFor:"password",children:"Password"}),Object(L.jsx)(U.a,{type:"password",id:"password1",name:"password",value:this.state.password,onChange:this.handleInputChange})]})})}),Object(L.jsx)(N.a,{style:{marginTop:"10px"},children:Object(L.jsx)(w.a,{xs:12,md:{size:4,offset:2},children:Object(L.jsx)(k.a,{children:Object(L.jsx)(f.a,{type:"submit",value:"submit",color:"primary",style:{width:"100%"},children:"Sign up"})})})})]})})]}),Object(L.jsxs)(v.a,{isOpen:this.state.isModalLoginOpen,toggle:this.toggleModalLogin,children:[Object(L.jsx)(y.a,{toggle:this.toggleModalLogin,children:"Login"}),Object(L.jsx)(C.a,{children:Object(L.jsxs)(S.a,{onSubmit:this.handleLogin,children:[Object(L.jsx)(N.a,{children:Object(L.jsx)(w.a,{xs:12,sm:{size:8,offset:2},children:Object(L.jsxs)(k.a,{children:[Object(L.jsx)(M.a,{htmlFor:"username",children:"Username"}),Object(L.jsx)(U.a,{type:"text",id:"username",name:"username",value:this.state.username,onChange:this.handleInputChange})]})})}),Object(L.jsx)(N.a,{children:Object(L.jsx)(w.a,{xs:12,sm:{size:8,offset:2},children:Object(L.jsxs)(k.a,{children:[Object(L.jsx)(M.a,{htmlFor:"password",children:"Password"}),Object(L.jsx)(U.a,{type:"password",id:"password",name:"password",value:this.state.password,onChange:this.handleInputChange})]})})}),Object(L.jsx)(N.a,{style:{marginTop:"10px"},children:Object(L.jsx)(w.a,{xs:12,md:{size:4,offset:2},children:Object(L.jsx)(k.a,{children:Object(L.jsx)(f.a,{type:"submit",value:"submit",color:"primary",style:{width:"100%"},children:"Login"})})})})]})})]})]})}}]),s}(n.Component),B=s(19),I=s(24),D=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).state={search:"NA",category:"NA",blogs:[]},n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(j.a)(n)),n}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.location.state&&fetch(I.serverUrl+"/home/"+this.props.username+"/"+this.props.location.state.search+"/"+this.props.location.state.category,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({blogs:t.blogs})}))}},{key:"handleInputChange",value:function(e){var t=e.target,s=t.value,n=t.name;this.setState(Object(d.a)({},n,s))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),fetch(I.serverUrl+"/home/"+this.props.username+"/"+this.state.search+"/"+this.state.category,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.setState({blogs:e.blogs})}))}},{key:"render",value:function(){var e,t=this;return 0!==this.state.blogs.length?e=this.state.blogs.map((function(e){return Object(L.jsxs)("div",{className:"row col-12 col-md-8 offset-md-1",style:{marginBottom:"30px",borderStyle:"solid",borderRadius:"10px",borderWidth:"1px",borderColor:"#D7D7D7"},children:[Object(L.jsx)("div",{className:"col-12 col-md-6 offset-md-3",style:{marginTop:"30px"},children:Object(L.jsxs)("p",{children:[Object(L.jsx)("strong",{children:"Title:"})," ",e.title]})}),Object(L.jsx)("div",{className:"col-12 col-md-6 offset-md-3",children:Object(L.jsxs)("p",{children:[Object(L.jsx)("strong",{children:"Author:"})," ",e.author]})}),Object(L.jsx)("div",{className:"col-12 col-md-6 offset-md-3",children:Object(L.jsxs)("p",{children:[Object(L.jsx)("strong",{children:"Category:"})," ",e.category]})}),Object(L.jsx)("div",{className:"col-6 col-md-3 offset-6 offset-md-9 border",style:{borderRadius:"5px",backgroundColor:"#0A304E",height:"40px",width:"100%",paddingTop:"8px",marginBottom:"20px"},children:Object(L.jsx)("center",{children:Object(L.jsx)("strong",{children:Object(L.jsx)(B.b,{to:{pathname:"/blogviewer/".concat(e.blog_id),state:{search:t.state.search,category:t.state.category}},style:{color:"#FFF"},children:" Read"})})})})]},e.blog_id)})):(this.state.search||"NA"!=this.state.category)&&(e=Object(L.jsx)("div",{className:"container",children:Object(L.jsx)("center",{children:Object(L.jsx)("h5",{style:{marginTop:"22px",fontFamily:"Arial Black"},children:"No Blogs Found"})})})),Object(L.jsxs)("div",{className:"container",children:[Object(L.jsx)(N.a,{style:{marginTop:"30px"},children:Object(L.jsx)(w.a,{xs:12,children:Object(L.jsxs)(S.a,{onSubmit:this.handleSubmit,children:[Object(L.jsxs)(N.a,{children:[Object(L.jsxs)(w.a,{sm:12,md:9,className:"mr-auto",children:[Object(L.jsx)("i",{className:"fa fa-search fa-lg icon"}),Object(L.jsx)(k.a,{children:Object(L.jsx)(U.a,{id:"searchBar",type:"text",className:"searchBar",name:"search",style:{height:"50px",width:"110%",paddingLeft:"50px"},placeholder:"Search..",onChange:this.handleInputChange})})]}),Object(L.jsx)(w.a,{sm:6,md:2,children:Object(L.jsx)(k.a,{children:Object(L.jsx)(f.a,{type:"submit",className:"searchButton",style:{backgroundColor:"#0A304E"},children:Object(L.jsx)("b",{children:Object(L.jsx)("center",{children:"Search"})})})})})]}),Object(L.jsx)(N.a,{children:Object(L.jsx)(w.a,{sm:12,md:2,children:Object(L.jsx)(k.a,{children:Object(L.jsxs)("select",{name:"category",className:"select-list",onChange:this.handleInputChange,children:[Object(L.jsx)("option",{selected:!0,value:"NA",children:"Category"}),Object(L.jsx)("option",{value:"undefined",children:"Undefined"})]})})})})]})})}),Object(L.jsx)("div",{className:"col-12",style:{marginTop:"22px"},children:Object(L.jsx)("div",{className:"row",children:e})})]})}}]),s}(n.Component),A=s(27),P=s(74),_=s(75),J=s(76),z=s(24),E=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).handleBlur=function(e){return function(t){n.setState({touched:Object(A.a)(Object(A.a)({},n.state.touched),{},Object(d.a)({},e,!0))})}},n.state={id:"",title:"",author:"",blog_content:"",comments:[],newComment:"",isModalOpen:!1,touched:{newComment:!1}},n.toggleModal=n.toggleModal.bind(Object(j.a)(n)),n.handleFav=n.handleFav.bind(Object(j.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(j.a)(n)),n.handleBlur=n.handleBlur.bind(Object(j.a)(n)),n}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch(z.serverUrl+this.props.path,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({id:t.blog_id,title:t.title,author:t.author,blog_content:t.blog_content,comments:t.comments})}))}},{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"handleInputChange",value:function(e){var t=e.target,s=t.value,n=t.name;this.setState(Object(d.a)({},n,s))}},{key:"handleFav",value:function(e){if(e.preventDefault(),this.props.authenticated){var t={fav:this.state.blog_id,username:this.props.username};fetch(z.serverUrl+this.props.path,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.success?alert("This blog has been added to your Fav List!"):alert(JSON.stringify(e.msg))}))}else alert("Please Sign up or Login first!")}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.props.authenticated){var s={comment_content:this.state.newComment,username:this.props.username};fetch(z.serverUrl+this.props.path,{method:"PUT",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.success?(alert("Successfully comment on this blog!"),t.toggleModal()):alert(JSON.stringify(e.msg))}))}else alert("Please Sign up or Login first!")}},{key:"validate",value:function(e){var t={newComment:""};return this.state.touched.newComment&&e.length<1&&(t.newComment="Comment is required"),t}},{key:"render",value:function(){var e=this.validate(this.state.newComment);return Object(L.jsxs)("div",{className:"container",children:[Object(L.jsx)("div",{className:"row",children:Object(L.jsxs)(P.a,{children:[Object(L.jsx)(_.a,{children:Object(L.jsx)(B.b,{to:{pathname:"/home",state:{search:this.props.location.state.search,category:this.props.location.state.category}},children:"Search Results"})}),Object(L.jsx)(_.a,{active:!0,children:this.state.title})]})}),Object(L.jsx)("h1",{style:{textAlign:"center"},children:this.state.title}),Object(L.jsxs)("h2",{style:{textAlign:"center"},children:["BY ",this.state.author]}),Object(L.jsxs)("div",{className:"row",style:{borderStyle:"solid",borderColor:"#D7D7D7",borderWidth:"1px",borderRadius:"10px",padding:"20px"},children:[Object(L.jsx)("div",{className:"col-12",children:Object(L.jsx)("p",{children:this.state.blog_content})}),Object(L.jsx)("br",{}),Object(L.jsx)("div",{className:"col-9 col-md-3 offset-md-8",children:Object(L.jsxs)(f.a,{id:"post",disabled:!this.props.authenticated,onClick:this.toggleModal,style:{background:"rgba(10,48,78,0.41)",width:"100%",fontFamily:"Arial Black",color:"white",border:"none"},children:[Object(L.jsx)("i",{class:"fa fa-pencil","aria-hidden":"true"})," Post comment"]})}),Object(L.jsx)("div",{className:"col-3 col-md-1",children:Object(L.jsx)(S.a,{onSubmit:this.handleFav,class:"form-style",children:Object(L.jsx)(f.a,{type:"submit",value:"submit",style:{background:"rgba(10,48,78,0.41)",fontFamily:"Arial Black",border:"none",borderRadius:"50%"},children:Object(L.jsx)("i",{class:"fa fa-heart","aria-hidden":"true"})})})})]}),Object(L.jsxs)("div",{className:"row",style:{marginTop:"20px"},children:[Object(L.jsx)("div",{className:"col-12",children:Object(L.jsx)("hr",{className:"seperation"})}),Object(L.jsx)("div",{className:"col-12 col-md-6",children:Object(L.jsx)("p",{style:{fontSize:"16px",fontFamily:"Arial Black"},children:"Comments"})})]}),this.state.comments.map((function(e){return Object(L.jsxs)("div",{className:"row",style:{marginBottom:"30px",paddingLeft:"20px"},children:[Object(L.jsx)("div",{className:"col-12",style:{marginTop:"20px"},children:Object(L.jsxs)("p",{children:[Object(L.jsx)("strong",{children:"Author: "})," ",e.username]})}),Object(L.jsx)("div",{className:"col-12",children:Object(L.jsxs)("p",{children:[Object(L.jsx)("strong",{children:"Comment: "})," ",e.comment_content]})}),Object(L.jsx)("div",{className:"col-12",style:{marginTop:"-20px"},children:Object(L.jsx)("hr",{style:{border:"1px dashed #D7D7D7"}})})]})})),Object(L.jsxs)(v.a,{isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:[Object(L.jsx)(y.a,{toggle:this.toggleModal,children:"Post Your Comment"}),Object(L.jsx)(C.a,{children:Object(L.jsxs)(S.a,{onSubmit:this.handleSubmit,class:"form-style",children:[Object(L.jsx)(N.a,{children:Object(L.jsx)(w.a,{xs:12,children:Object(L.jsxs)(k.a,{className:"form-style-form-group",children:[Object(L.jsx)(M.a,{htmlFor:"newComment",className:"form-style-label",children:"Comment (Required)"}),Object(L.jsx)(U.a,{type:"textarea",id:"newComment",name:"newComment",rows:"5",value:this.state.newComment,onChange:this.handleInputChange,valid:""===e.newComment,invalid:""!==e.newComment,onBlur:this.handleBlur("newComment")}),Object(L.jsx)(J.a,{children:e.newComment})]})})}),Object(L.jsx)(N.a,{children:Object(L.jsx)(w.a,{sm:12,md:{size:6,offset:3},children:Object(L.jsx)(k.a,{children:Object(L.jsx)(f.a,{disabled:""===this.state.newComment||""!=e.newComment,type:"submit",value:"submit",style:{background:"#0A304E",width:"100%",fontFamily:"Arial Black"},children:"Submit"})})})})]})})]})]})}}]),s}(n.Component),R=s(9),G=a.a.createContext(""),q=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).onUsernameChange=function(e,t){n.setState({username:e,authenticated:t})},n.state={username:"",authenticated:!1},n}return Object(r.a)(s,[{key:"render",value:function(){var e=this;return Object(L.jsx)("div",{children:Object(L.jsxs)(G.Provider,{value:{state:this.state},children:[Object(L.jsx)(F,{history:this.props.history,onUsernameChange:this.onUsernameChange,username:this.state.username,authenticated:this.state.authenticated}),Object(L.jsxs)(R.d,{children:[Object(L.jsx)(R.b,{exact:!0,path:"/home",component:function(){return Object(L.jsx)(D,{history:e.props.history,location:e.props.location,username:e.state.username,authenticated:e.state.authenticated,onUsernameChange:e.onUsernameChange})}}),Object(L.jsx)(R.b,{path:"/blogviewer/:blogId",component:function(){return Object(L.jsx)(E,{history:e.props.history,location:e.props.location,username:e.state.username,authenticated:e.state.authenticated})}}),Object(L.jsx)(R.a,{to:"/home"})]})]})})}}]),s}(n.Component),W=Object(R.g)(q);s(53);var Y=function(){return Object(L.jsx)(B.a,{children:Object(L.jsx)("div",{className:"App",children:Object(L.jsx)(W,{})})})},H=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,78)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),n(e),a(e),i(e),c(e)}))};s(54),s(55),s(56);c.a.render(Object(L.jsx)(a.a.StrictMode,{children:Object(L.jsx)(Y,{})}),document.getElementById("root")),H()}},[[57,1,2]]]);
//# sourceMappingURL=main.d8d50b48.chunk.js.map